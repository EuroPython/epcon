!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){i(7),i(8);var n=i(2);n.Messages=i(24),n.ChangeTracker=i(13),n.Modal=i(5),n.Sideframe=i(16),n.Clipboard=i(23),n.Plugin=i(15),n.StructureBoard=i(28),n.Navigation=i(14),n.Toolbar=i(29),n.Tooltip=i(30),i(34)(),window.CMS=n},function(t,e,i){var n,s;!function(e,i){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(o,r){function a(t){var e="length"in t&&t.length,i=ct.type(t);return"function"===i||ct.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function l(t,e,i){if(ct.isFunction(e))return ct.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ct.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(vt.test(e))return ct.filter(e,t,i);e=ct.filter(e,t)}return ct.grep(t,function(t){return ct.inArray(t,e)>=0!==i})}function c(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t){var e=St[t]={};return ct.each(t.match(Tt)||[],function(t,i){e[i]=!0}),e}function d(){yt.addEventListener?(yt.removeEventListener("DOMContentLoaded",h,!1),o.removeEventListener("load",h,!1)):(yt.detachEvent("onreadystatechange",h),o.detachEvent("onload",h))}function h(){(yt.addEventListener||"load"===event.type||"complete"===yt.readyState)&&(d(),ct.ready())}function p(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(It,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Mt.test(i)?ct.parseJSON(i):i}catch(s){}ct.data(t,e,i)}else i=void 0}return i}function f(t){var e;for(e in t)if(("data"!==e||!ct.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function m(t,e,i,n){if(ct.acceptData(t)){var s,o,r=ct.expando,a=t.nodeType,l=a?ct.cache:t,c=a?t[r]:t[r]&&r;if(c&&l[c]&&(n||l[c].data)||void 0!==i||"string"!=typeof e)return c||(c=a?t[r]=Z.pop()||ct.guid++:r),l[c]||(l[c]=a?{}:{toJSON:ct.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[c]=ct.extend(l[c],e):l[c].data=ct.extend(l[c].data,e)),o=l[c],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[ct.camelCase(e)]=i),"string"==typeof e?(s=o[e],null==s&&(s=o[ct.camelCase(e)])):s=o,s}}function g(t,e,i){if(ct.acceptData(t)){var n,s,o=t.nodeType,r=o?ct.cache:t,a=o?t[ct.expando]:ct.expando;if(r[a]){if(e&&(n=i?r[a]:r[a].data)){ct.isArray(e)?e=e.concat(ct.map(e,ct.camelCase)):e in n?e=[e]:(e=ct.camelCase(e),e=e in n?[e]:e.split(" ")),s=e.length;for(;s--;)delete n[e[s]];if(i?!f(n):!ct.isEmptyObject(n))return}(i||(delete r[a].data,f(r[a])))&&(o?ct.cleanData([t],!0):at.deleteExpando||r!=r.window?delete r[a]:r[a]=null)}}}function v(){return!0}function b(){return!1}function y(){try{return yt.activeElement}catch(t){}}function C(t){var e=Wt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function w(t,e){var i,n,s=0,o=typeof t.getElementsByTagName!==Pt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Pt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[s]);s++)!e||ct.nodeName(n,e)?o.push(n):ct.merge(o,w(n,e));return void 0===e||e&&ct.nodeName(t,e)?ct.merge([t],o):o}function _(t){Ot.test(t.type)&&(t.defaultChecked=t.checked)}function x(t,e){return ct.nodeName(t,"table")&&ct.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function T(t){return t.type=(null!==ct.find.attr(t,"type"))+"/"+t.type,t}function S(t){var e=Qt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){for(var i,n=0;null!=(i=t[n]);n++)ct._data(i,"globalEval",!e||ct._data(e[n],"globalEval"))}function E(t,e){if(1===e.nodeType&&ct.hasData(t)){var i,n,s,o=ct._data(t),r=ct._data(e,o),a=o.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)ct.event.add(e,i,a[i][n])}r.data&&(r.data=ct.extend({},r.data))}}function P(t,e){var i,n,s;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!at.noCloneEvent&&e[ct.expando]){s=ct._data(e);for(n in s.events)ct.removeEvent(e,n,s.handle);e.removeAttribute(ct.expando)}"script"===i&&e.text!==t.text?(T(e).text=t.text,S(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),at.html5Clone&&t.innerHTML&&!ct.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Ot.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function M(t,e){var i,n=ct(e.createElement(t)).appendTo(e.body),s=o.getDefaultComputedStyle&&(i=o.getDefaultComputedStyle(n[0]))?i.display:ct.css(n[0],"display");return n.detach(),s}function I(t){var e=yt,i=se[t];return i||(i=M(t,e),"none"!==i&&i||(ne=(ne||ct("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(ne[0].contentWindow||ne[0].contentDocument).document,e.write(),e.close(),i=M(t,e),ne.detach()),se[t]=i),i}function A(t,e){return{get:function(){var i=t();return null!=i?i?void delete this.get:(this.get=e).apply(this,arguments):void 0}}}function N(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,s=ve.length;s--;)if(e=ve[s]+i,e in t)return e;return n}function D(t,e){for(var i,n,s,o=[],r=0,a=t.length;a>r;r++)n=t[r],n.style&&(o[r]=ct._data(n,"olddisplay"),i=n.style.display,e?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&Dt(n)&&(o[r]=ct._data(n,"olddisplay",I(n.nodeName)))):(s=Dt(n),(i&&"none"!==i||!s)&&ct._data(n,"olddisplay",s?i:ct.css(n,"display"))));for(r=0;a>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[r]||"":"none"));return t}function L(t,e,i){var n=pe.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function O(t,e,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=ct.css(t,i+Nt[o],!0,s)),n?("content"===i&&(r-=ct.css(t,"padding"+Nt[o],!0,s)),"margin"!==i&&(r-=ct.css(t,"border"+Nt[o]+"Width",!0,s))):(r+=ct.css(t,"padding"+Nt[o],!0,s),"padding"!==i&&(r+=ct.css(t,"border"+Nt[o]+"Width",!0,s)));return r}function H(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,o=oe(t),r=at.boxSizing&&"border-box"===ct.css(t,"boxSizing",!1,o);if(0>=s||null==s){if(s=re(t,e,o),(0>s||null==s)&&(s=t.style[e]),le.test(s))return s;n=r&&(at.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+O(t,e,i||(r?"border":"content"),n,o)+"px"}function j(t,e,i,n,s){return new j.prototype.init(t,e,i,n,s)}function R(){return setTimeout(function(){be=void 0}),be=ct.now()}function B(t,e){var i,n={height:t},s=0;for(e=e?1:0;4>s;s+=2-e)i=Nt[s],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function z(t,e,i){for(var n,s=(Te[e]||[]).concat(Te["*"]),o=0,r=s.length;r>o;o++)if(n=s[o].call(i,e,t))return n}function W(t,e,i){var n,s,o,r,a,l,c,u,d=this,h={},p=t.style,f=t.nodeType&&Dt(t),m=ct._data(t,"fxshow");i.queue||(a=ct._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ct.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=ct.css(t,"display"),u="none"===c?ct._data(t,"olddisplay")||I(t.nodeName):c,"inline"===u&&"none"===ct.css(t,"float")&&(at.inlineBlockNeedsLayout&&"inline"!==I(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",at.shrinkWrapBlocks()||d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],Ce.exec(s)){if(delete e[n],o=o||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;f=!0}h[n]=m&&m[n]||ct.style(t,n)}else c=void 0;if(ct.isEmptyObject(h))"inline"===("none"===c?I(t.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=ct._data(t,"fxshow",{}),o&&(m.hidden=!f),f?ct(t).show():d.done(function(){ct(t).hide()}),d.done(function(){var e;ct._removeData(t,"fxshow");for(e in h)ct.style(t,e,h[e])});for(n in h)r=z(f?m[n]:0,n,d),n in m||(m[n]=r.start,f&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function K(t,e){var i,n,s,o,r;for(i in t)if(n=ct.camelCase(i),s=e[n],o=t[i],ct.isArray(o)&&(s=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),r=ct.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=s)}else e[n]=s}function F(t,e,i){var n,s,o=0,r=xe.length,a=ct.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=be||R(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,o=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return a.notifyWith(t,[c,o,i]),1>o&&l?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ct.extend({},e),opts:ct.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:be||R(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ct.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)c.tweens[i].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),u=c.props;for(K(u,c.opts.specialEasing);r>o;o++)if(n=xe[o].call(c,t,u,c.opts))return n;return ct.map(u,z,c),ct.isFunction(c.opts.start)&&c.opts.start.call(t,c),ct.fx.timer(ct.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,o=e.toLowerCase().match(Tt)||[];if(ct.isFunction(i))for(;n=o[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function U(t,e,i,n){function s(a){var l;return o[a]=!0,ct.each(t[a]||[],function(t,a){var c=a(e,i,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}var o={},r=t===$e;return s(e.dataTypes[0])||!o["*"]&&s("*")}function X(t,e){var i,n,s=ct.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((s[n]?t:i||(i={}))[n]=e[n]);return i&&ct.extend(!0,t,i),t}function Y(t,e,i){for(var n,s,o,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}n||(n=r)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function $(t,e,i,n){var s,o,r,a,l,c={},u=t.dataTypes.slice();if(u[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(s in c)if(a=s.split(" "),a[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[s]:c[s]!==!0&&(o=a[0],u.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,i,n){var s;if(ct.isArray(e))ct.each(e,function(e,s){i||Qe.test(t)?n(t,s):V(t+"["+("object"==typeof s?e:"")+"]",s,i,n)});else if(i||"object"!==ct.type(e))n(t,e);else for(s in e)V(t+"["+s+"]",e[s],i,n)}function G(){try{return new o.XMLHttpRequest}catch(t){}}function J(){try{return new o.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Q(t){return ct.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var Z=[],tt=Z.slice,et=Z.concat,it=Z.push,nt=Z.indexOf,st={},ot=st.toString,rt=st.hasOwnProperty,at={},lt="1.11.3",ct=function(t,e){return new ct.fn.init(t,e)},ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dt=/^-ms-/,ht=/-([\da-z])/gi,pt=function(t,e){return e.toUpperCase()};ct.fn=ct.prototype={jquery:lt,constructor:ct,selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:tt.call(this)},pushStack:function(t){var e=ct.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ct.each(this,t,e)},map:function(t){return this.pushStack(ct.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:it,sort:Z.sort,splice:Z.splice},ct.extend=ct.fn.extend=function(){var t,e,i,n,s,o,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||ct.isFunction(r)||(r={}),a===l&&(r=this,a--);l>a;a++)if(null!=(s=arguments[a]))for(n in s)t=r[n],i=s[n],r!==i&&(c&&i&&(ct.isPlainObject(i)||(e=ct.isArray(i)))?(e?(e=!1,o=t&&ct.isArray(t)?t:[]):o=t&&ct.isPlainObject(t)?t:{},r[n]=ct.extend(c,o,i)):void 0!==i&&(r[n]=i));return r},ct.extend({expando:"jQuery"+(lt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ct.type(t)},isArray:Array.isArray||function(t){return"array"===ct.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!ct.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ct.type(t)||t.nodeType||ct.isWindow(t))return!1;try{if(t.constructor&&!rt.call(t,"constructor")&&!rt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(at.ownLast)for(e in t)return rt.call(t,e);for(e in t);return void 0===e||rt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?st[ot.call(t)]||"object":typeof t},globalEval:function(t){t&&ct.trim(t)&&(o.execScript||function(t){o.eval.call(o,t)})(t)},camelCase:function(t){return t.replace(dt,"ms-").replace(ht,pt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var n,s=0,o=t.length,r=a(t);if(i){if(r)for(;o>s&&(n=e.apply(t[s],i),n!==!1);s++);else for(s in t)if(n=e.apply(t[s],i),n===!1)break}else if(r)for(;o>s&&(n=e.call(t[s],s,t[s]),n!==!1);s++);else for(s in t)if(n=e.call(t[s],s,t[s]),n===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ut,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(a(Object(t))?ct.merge(i,"string"==typeof t?[t]:t):it.call(i,t)),i},inArray:function(t,e,i){var n;if(e){if(nt)return nt.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;i>n;)t[s++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[s++]=e[n++];return t.length=s,t},grep:function(t,e,i){for(var n,s=[],o=0,r=t.length,a=!i;r>o;o++)n=!e(t[o],o),n!==a&&s.push(t[o]);return s},map:function(t,e,i){var n,s=0,o=t.length,r=a(t),l=[];if(r)for(;o>s;s++)n=e(t[s],s,i),null!=n&&l.push(n);else for(s in t)n=e(t[s],s,i),null!=n&&l.push(n);return et.apply([],l)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(s=t[e],e=t,t=s),ct.isFunction(t)?(i=tt.call(arguments,2),n=function(){return t.apply(e||this,i.concat(tt.call(arguments)))},n.guid=t.guid=t.guid||ct.guid++,n):void 0},now:function(){return+new Date},support:at}),ct.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()});var ft=function(t){function e(t,e,i,n){var s,o,r,a,l,c,d,p,f,m;if((e?e.ownerDocument||e:z)!==N&&A(e),e=e||N,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&L){if(11!==a&&(s=bt.exec(t)))if(r=s[1]){if(9===a){if(o=e.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(r))&&R(e,o)&&o.id===r)return i.push(o),i}else{if(s[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((r=s[3])&&w.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(r)),i}if(w.qsa&&(!O||!O.test(t))){if(p=d=B,f=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(d=e.getAttribute("id"))?p=d.replace(Ct,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=yt.test(t)&&u(e.parentNode)||e,m=c.join(",")}if(m)try{return Q.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{d||e.removeAttribute("id")}}}return E(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>_.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function s(t){var e=N.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)_.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var s,o=t([],i.length,e),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(){}function h(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,s=i&&"parentNode"===n,o=K++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,o)}:function(e,i,r){var a,l,c=[W,o];if(r){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(l=e[B]||(e[B]={}),(a=l[n])&&a[0]===W&&a[1]===o)return c[2]=a[2];if(l[n]=c,c[2]=t(e,i,r))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var s=0,o=i.length;o>s;s++)e(t,i[s],n);return n}function g(t,e,i,n,s){for(var o,r=[],a=0,l=t.length,c=null!=e;l>a;a++)(o=t[a])&&(!i||i(o,n,s))&&(r.push(o),c&&e.push(a));return r}function v(t,e,i,s,o,r){return s&&!s[B]&&(s=v(s)),o&&!o[B]&&(o=v(o,r)),n(function(n,r,a,l){var c,u,d,h=[],p=[],f=r.length,v=n||m(e||"*",a.nodeType?[a]:a,[]),b=!t||!n&&e?v:g(v,h,t,a,l),y=i?o||(n?t:f||s)?[]:r:b;if(i&&i(b,y,a,l),s)for(c=g(y,p),s(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(b[p[u]]=d));if(n){if(o||t){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?tt(n,d):h[u])>-1&&(n[c]=!(r[c]=d))}}else y=g(y===r?y.splice(f,y.length):y),o?o(null,r,y,l):Q.apply(r,y)})}function b(t){for(var e,i,n,s=t.length,o=_.relative[t[0].type],r=o||_.relative[" "],a=o?1:0,l=p(function(t){return t===e},r,!0),c=p(function(t){return tt(e,t)>-1},r,!0),u=[function(t,i,n){var s=!o&&(n||i!==P)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,s}];s>a;a++)if(i=_.relative[t[a].type])u=[p(f(u),i)];else{if(i=_.filter[t[a].type].apply(null,t[a].matches),i[B]){for(n=++a;s>n&&!_.relative[t[n].type];n++);return v(a>1&&f(u),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),i,n>a&&b(t.slice(a,n)),s>n&&b(t=t.slice(n)),s>n&&h(t))}u.push(i)}return f(u)}function y(t,i){var s=i.length>0,o=t.length>0,r=function(n,r,a,l,c){var u,d,h,p=0,f="0",m=n&&[],v=[],b=P,y=n||o&&_.find.TAG("*",c),C=W+=null==b?1:Math.random()||.1,w=y.length;for(c&&(P=r!==N&&r);f!==w&&null!=(u=y[f]);f++){if(o&&u){for(d=0;h=t[d++];)if(h(u,r,a)){l.push(u);break}c&&(W=C)}s&&((u=!h&&u)&&p--,n&&m.push(u))}if(p+=f,s&&f!==p){for(d=0;h=i[d++];)h(m,v,r,a);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=G.call(l));v=g(v)}Q.apply(l,v),c&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return c&&(W=C,P=b),m};return s?n(r):r}var C,w,_,x,T,S,k,E,P,M,I,A,N,D,L,O,H,j,R,B="sizzle"+1*new Date,z=t.document,W=0,K=0,F=i(),q=i(),U=i(),X=function(t,e){return t===e&&(I=!0),0},Y=1<<31,$={}.hasOwnProperty,V=[],G=V.pop,J=V.push,Q=V.push,Z=V.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=nt.replace("w","w#"),ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(rt),pt=new RegExp("^"+st+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,Ct=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),_t=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){A()};try{Q.apply(V=Z.call(z.childNodes),z.childNodes),V[z.childNodes.length].nodeType}catch(Tt){Q={apply:V.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:z;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,D=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),L=!T(n),w.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=s(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(n.getElementsByClassName),w.getById=s(function(t){return D.appendChild(t).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},_.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},_.find.CLASS=w.getElementsByClassName&&function(t,e){return L?e.getElementsByClassName(t):void 0},H=[],O=[],(w.qsa=vt.test(n.querySelectorAll))&&(s(function(t){D.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||O.push(".#.+[+~]")}),s(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=vt.test(j=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&s(function(t){w.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),H.push("!=",rt)}),O=O.length&&new RegExp(O.join("|")),H=H.length&&new RegExp(H.join("|")),e=vt.test(D.compareDocumentPosition),R=e||vt.test(D.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return I=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===z&&R(z,t)?-1:e===n||e.ownerDocument===z&&R(z,e)?1:M?tt(M,t)-tt(M,e):0:4&i?-1:1)}:function(t,e){if(t===e)return I=!0,0;var i,s=0,o=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:M?tt(M,t)-tt(M,e):0;if(o===a)return r(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[s]===c[s];)s++;return s?r(l[s],c[s]):l[s]===z?-1:c[s]===z?1:0},n):N},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==N&&A(t),i=i.replace(dt,"='$1']"),!(!w.matchesSelector||!L||H&&H.test(i)||O&&O.test(i)))try{var n=j.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return e(i,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&A(t),R(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&A(t);var i=_.attrHandle[e.toLowerCase()],n=i&&$.call(_.attrHandle,e.toLowerCase())?i(t,e,!L):void 0;return void 0!==n?n:w.attributes||!L?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(I=!w.detectDuplicates,M=!w.sortStable&&t.slice(0),t.sort(X),I){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return M=null,t},x=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=x(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=x(e);return i},_=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var o=e.attr(s,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(at," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var c,u,d,h,p,f,m=o!==r?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(u=g[B]||(g[B]={}),c=u[t]||[],p=c[0]===W&&c[1],h=c[0]===W&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){u[t]=[W,p,h];break}}else if(b&&(c=(e[B]||(e[B]={}))[t])&&c[0]===W)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[B]||(d[B]={}))[t]=[W,h]),d!==e)););return h-=s,h===n||h%n===0&&h/n>=0}}},PSEUDO:function(t,i){var s,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(s=[t,t,"",i],_.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=o(t,i),r=s.length;r--;)n=tt(t,s[r]),t[n]=!(e[n]=s[r])}):function(t){return o(t,0,s)}):o}},pseudos:{not:n(function(t){var e=[],i=[],s=k(t.replace(lt,"$1"));return s[B]?n(function(t,e,i,n){for(var o,r=s(t,null,n,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,s(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(wt,_t),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:n(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var i;do if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},_.pseudos.nth=_.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,
password:!0,image:!0})_.pseudos[C]=a(C);for(C in{submit:!0,reset:!0})_.pseudos[C]=l(C);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,S=e.tokenize=function(t,i){var n,s,o,r,a,l,c,u=q[t+" "];if(u)return i?0:u.slice(0);for(a=t,l=[],c=_.preFilter;a;){(!n||(s=ct.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),n=!1,(s=ut.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(lt," ")}),a=a.slice(n.length));for(r in _.filter)!(s=ft[r].exec(a))||c[r]&&!(s=c[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):q(t,l).slice(0)},k=e.compile=function(t,e){var i,n=[],s=[],o=U[t+" "];if(!o){for(e||(e=S(t)),i=e.length;i--;)o=b(e[i]),o[B]?n.push(o):s.push(o);o=U(t,y(s,n)),o.selector=t}return o},E=e.select=function(t,e,i,n){var s,o,r,a,l,c="function"==typeof t&&t,d=!n&&S(t=c.selector||t);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&w.getById&&9===e.nodeType&&L&&_.relative[o[1].type]){if(e=(_.find.ID(r.matches[0].replace(wt,_t),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(s=ft.needsContext.test(t)?0:o.length;s--&&(r=o[s],!_.relative[a=r.type]);)if((l=_.find[a])&&(n=l(r.matches[0].replace(wt,_t),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(s,1),t=n.length&&h(o),!t)return Q.apply(i,n),i;break}}return(c||k(t,d))(n,e,!L,i,yt.test(t)&&u(e.parentNode)||e),i},w.sortStable=B.split("").sort(X).join("")===B,w.detectDuplicates=!!I,A(),w.sortDetached=s(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(o);ct.find=ft,ct.expr=ft.selectors,ct.expr[":"]=ct.expr.pseudos,ct.unique=ft.uniqueSort,ct.text=ft.getText,ct.isXMLDoc=ft.isXML,ct.contains=ft.contains;var mt=ct.expr.match.needsContext,gt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,vt=/^.[^:#\[\.,]*$/;ct.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ct.find.matchesSelector(n,t)?[n]:[]:ct.find.matches(t,ct.grep(e,function(t){return 1===t.nodeType}))},ct.fn.extend({find:function(t){var e,i=[],n=this,s=n.length;if("string"!=typeof t)return this.pushStack(ct(t).filter(function(){for(e=0;s>e;e++)if(ct.contains(n[e],this))return!0}));for(e=0;s>e;e++)ct.find(t,n[e],i);return i=this.pushStack(s>1?ct.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&mt.test(t)?ct(t):t||[],!1).length}});var bt,yt=o.document,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,wt=ct.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Ct.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||bt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ct?e[0]:e,ct.merge(this,ct.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:yt,!0)),gt.test(i[1])&&ct.isPlainObject(e))for(i in e)ct.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=yt.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return bt.find(t);this.length=1,this[0]=n}return this.context=yt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ct.isFunction(t)?"undefined"!=typeof bt.ready?bt.ready(t):t(ct):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ct.makeArray(t,this))};wt.prototype=ct.fn,bt=ct(yt);var _t=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};ct.extend({dir:function(t,e,i){for(var n=[],s=t[e];s&&9!==s.nodeType&&(void 0===i||1!==s.nodeType||!ct(s).is(i));)1===s.nodeType&&n.push(s),s=s[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),ct.fn.extend({has:function(t){var e,i=ct(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ct.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,o=[],r=mt.test(t)||"string"!=typeof t?ct(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&ct.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?ct.unique(o):o)},index:function(t){return t?"string"==typeof t?ct.inArray(this[0],ct(t)):ct.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ct.unique(ct.merge(this.get(),ct(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ct.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ct.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ct.dir(t,"parentNode",i)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return ct.dir(t,"nextSibling")},prevAll:function(t){return ct.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ct.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ct.dir(t,"previousSibling",i)},siblings:function(t){return ct.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ct.sibling(t.firstChild)},contents:function(t){return ct.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ct.merge([],t.childNodes)}},function(t,e){ct.fn[t]=function(i,n){var s=ct.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=ct.filter(n,s)),this.length>1&&(xt[t]||(s=ct.unique(s)),_t.test(t)&&(s=s.reverse())),this.pushStack(s)}});var Tt=/\S+/g,St={};ct.Callbacks=function(t){t="string"==typeof t?St[t]||u(t):ct.extend({},t);var e,i,n,s,o,r,a=[],l=!t.once&&[],c=function(u){for(i=t.memory&&u,n=!0,o=r||0,r=0,s=a.length,e=!0;a&&s>o;o++)if(a[o].apply(u[0],u[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,a&&(l?l.length&&c(l.shift()):i?a=[]:d.disable())},d={add:function(){if(a){var n=a.length;!function o(e){ct.each(e,function(e,i){var n=ct.type(i);"function"===n?t.unique&&d.has(i)||a.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),e?s=a.length:i&&(r=n,c(i))}return this},remove:function(){return a&&ct.each(arguments,function(t,i){for(var n;(n=ct.inArray(i,a,n))>-1;)a.splice(n,1),e&&(s>=n&&s--,o>=n&&o--)}),this},has:function(t){return t?ct.inArray(t,a)>-1:!(!a||!a.length)},empty:function(){return a=[],s=0,this},disable:function(){return a=l=i=void 0,this},disabled:function(){return!a},lock:function(){return l=void 0,i||d.disable(),this},locked:function(){return!l},fireWith:function(t,i){return!a||n&&!l||(i=i||[],i=[t,i.slice?i.slice():i],e?l.push(i):c(i)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},ct.extend({Deferred:function(t){var e=[["resolve","done",ct.Callbacks("once memory"),"resolved"],["reject","fail",ct.Callbacks("once memory"),"rejected"],["notify","progress",ct.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ct.Deferred(function(i){ct.each(e,function(e,o){var r=ct.isFunction(t[e])&&t[e];s[o[1]](function(){var t=r&&r.apply(this,arguments);t&&ct.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ct.extend(t,n):n}},s={};return n.pipe=n.then,ct.each(e,function(t,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,o=tt.call(arguments),r=o.length,a=1!==r||t&&ct.isFunction(t.promise)?r:0,l=1===a?t:ct.Deferred(),c=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?tt.call(arguments):s,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);r>s;s++)o[s]&&ct.isFunction(o[s].promise)?o[s].promise().done(c(s,n,o)).fail(l.reject).progress(c(s,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}});var kt;ct.fn.ready=function(t){return ct.ready.promise().done(t),this},ct.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ct.readyWait++:ct.ready(!0)},ready:function(t){if(t===!0?!--ct.readyWait:!ct.isReady){if(!yt.body)return setTimeout(ct.ready);ct.isReady=!0,t!==!0&&--ct.readyWait>0||(kt.resolveWith(yt,[ct]),ct.fn.triggerHandler&&(ct(yt).triggerHandler("ready"),ct(yt).off("ready")))}}}),ct.ready.promise=function(t){if(!kt)if(kt=ct.Deferred(),"complete"===yt.readyState)setTimeout(ct.ready);else if(yt.addEventListener)yt.addEventListener("DOMContentLoaded",h,!1),o.addEventListener("load",h,!1);else{yt.attachEvent("onreadystatechange",h),o.attachEvent("onload",h);var e=!1;try{e=null==o.frameElement&&yt.documentElement}catch(i){}e&&e.doScroll&&!function n(){if(!ct.isReady){try{e.doScroll("left")}catch(t){return setTimeout(n,50)}d(),ct.ready()}}()}return kt.promise(t)};var Et,Pt="undefined";for(Et in ct(at))break;at.ownLast="0"!==Et,at.inlineBlockNeedsLayout=!1,ct(function(){var t,e,i,n;i=yt.getElementsByTagName("body")[0],i&&i.style&&(e=yt.createElement("div"),n=yt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Pt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",at.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=yt.createElement("div");if(null==at.deleteExpando){at.deleteExpando=!0;try{delete t.test}catch(e){at.deleteExpando=!1}}t=null}(),ct.acceptData=function(t){var e=ct.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e};var Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;ct.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ct.cache[t[ct.expando]]:t[ct.expando],!!t&&!f(t)},data:function(t,e,i){return m(t,e,i)},removeData:function(t,e){return g(t,e)},_data:function(t,e,i){return m(t,e,i,!0)},_removeData:function(t,e){return g(t,e,!0)}}),ct.fn.extend({data:function(t,e){var i,n,s,o=this[0],r=o&&o.attributes;if(void 0===t){if(this.length&&(s=ct.data(o),1===o.nodeType&&!ct._data(o,"parsedAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=ct.camelCase(n.slice(5)),p(o,n,s[n])));ct._data(o,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){ct.data(this,t)}):arguments.length>1?this.each(function(){ct.data(this,t,e)}):o?p(o,t,ct.data(o,t)):void 0},removeData:function(t){return this.each(function(){ct.removeData(this,t)})}}),ct.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ct._data(t,e),i&&(!n||ct.isArray(i)?n=ct._data(t,e,ct.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ct.queue(t,e),n=i.length,s=i.shift(),o=ct._queueHooks(t,e),r=function(){ct.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete o.stop,s.call(t,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ct._data(t,i)||ct._data(t,i,{empty:ct.Callbacks("once memory").add(function(){ct._removeData(t,e+"queue"),ct._removeData(t,i)})})}}),ct.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ct.queue(this[0],t):void 0===e?this:this.each(function(){var i=ct.queue(this,t,e);ct._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ct.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ct.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=ct.Deferred(),o=this,r=this.length,a=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)i=ct._data(o[r],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}});var At=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=["Top","Right","Bottom","Left"],Dt=function(t,e){return t=e||t,"none"===ct.css(t,"display")||!ct.contains(t.ownerDocument,t)},Lt=ct.access=function(t,e,i,n,s,o,r){var a=0,l=t.length,c=null==i;if("object"===ct.type(i)){s=!0;for(a in i)ct.access(t,e,a,i[a],!0,o,r)}else if(void 0!==n&&(s=!0,ct.isFunction(n)||(r=!0),c&&(r?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(ct(t),i)})),e))for(;l>a;a++)e(t[a],i,r?n:n.call(t[a],a,e(t[a],i)));return s?t:c?e.call(t):l?e(t[0],i):o},Ot=/^(?:checkbox|radio)$/i;!function(){var t=yt.createElement("input"),e=yt.createElement("div"),i=yt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",at.leadingWhitespace=3===e.firstChild.nodeType,at.tbody=!e.getElementsByTagName("tbody").length,at.htmlSerialize=!!e.getElementsByTagName("link").length,at.html5Clone="<:nav></:nav>"!==yt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),at.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",at.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",at.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,at.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){at.noCloneEvent=!1}),e.cloneNode(!0).click()),null==at.deleteExpando){at.deleteExpando=!0;try{delete e.test}catch(n){at.deleteExpando=!1}}}(),function(){var t,e,i=yt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(at[t+"Bubbles"]=e in o)||(i.setAttribute(e,"t"),at[t+"Bubbles"]=i.attributes[e].expando===!1);i=null}();var Ht=/^(?:input|select|textarea)$/i,jt=/^key/,Rt=/^(?:mouse|pointer|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;ct.event={global:{},add:function(t,e,i,n,s){var o,r,a,l,c,u,d,h,p,f,m,g=ct._data(t);if(g){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=ct.guid++),(r=g.events)||(r=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof ct===Pt||t&&ct.event.triggered===t.type?void 0:ct.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(Tt)||[""],a=e.length;a--;)o=zt.exec(e[a])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(c=ct.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,c=ct.event.special[p]||{},d=ct.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&ct.expr.match.needsContext.test(s),namespace:f.join(".")},l),(h=r[p])||(h=r[p]=[],h.delegateCount=0,c.setup&&c.setup.call(t,n,f,u)!==!1||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),s?h.splice(h.delegateCount++,0,d):h.push(d),ct.event.global[p]=!0);t=null}},remove:function(t,e,i,n,s){var o,r,a,l,c,u,d,h,p,f,m,g=ct.hasData(t)&&ct._data(t);if(g&&(u=g.events)){for(e=(e||"").match(Tt)||[""],c=e.length;c--;)if(a=zt.exec(e[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ct.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)r=h[o],!s&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(h.splice(o,1),r.selector&&h.delegateCount--,d.remove&&d.remove.call(t,r));l&&!h.length&&(d.teardown&&d.teardown.call(t,f,g.handle)!==!1||ct.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)ct.event.remove(t,p+e[c],i,n,!0);ct.isEmptyObject(u)&&(delete g.handle,ct._removeData(t,"events"))}},trigger:function(t,e,i,n){var s,r,a,l,c,u,d,h=[i||yt],p=rt.call(t,"type")?t.type:t,f=rt.call(t,"namespace")?t.namespace.split("."):[];if(a=u=i=i||yt,3!==i.nodeType&&8!==i.nodeType&&!Bt.test(p+ct.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),r=p.indexOf(":")<0&&"on"+p,t=t[ct.expando]?t:new ct.Event(p,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:ct.makeArray(e,[t]),c=ct.event.special[p]||{},n||!c.trigger||c.trigger.apply(i,e)!==!1)){if(!n&&!c.noBubble&&!ct.isWindow(i)){for(l=c.delegateType||p,Bt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(i.ownerDocument||yt)&&h.push(u.defaultView||u.parentWindow||o)}for(d=0;(a=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||p,s=(ct._data(a,"events")||{})[t.type]&&ct._data(a,"handle"),s&&s.apply(a,e),s=r&&a[r],s&&s.apply&&ct.acceptData(a)&&(t.result=s.apply(a,e),t.result===!1&&t.preventDefault());if(t.type=p,!n&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),e)===!1)&&ct.acceptData(i)&&r&&i[p]&&!ct.isWindow(i)){u=i[r],u&&(i[r]=null),ct.event.triggered=p;try{i[p]()}catch(m){}ct.event.triggered=void 0,u&&(i[r]=u)}return t.result}},dispatch:function(t){t=ct.event.fix(t);var e,i,n,s,o,r=[],a=tt.call(arguments),l=(ct._data(this,"events")||{})[t.type]||[],c=ct.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(r=ct.event.handlers.call(this,t,l),e=0;(s=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,o=0;(n=s.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(n.namespace))&&(t.handleObj=n,t.data=n.data,i=((ct.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,o,r=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(s=[],o=0;a>o;o++)n=e[o],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?ct(i,this).index(l)>=0:ct.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&r.push({elem:l,handlers:s})}return a<e.length&&r.push({elem:this,handlers:e.slice(a)}),r},fix:function(t){if(t[ct.expando])return t;var e,i,n,s=t.type,o=t,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Rt.test(s)?this.mouseHooks:jt.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new ct.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||yt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,o=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||yt,s=n.documentElement,i=n.body,t.pageX=e.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ct.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ct.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var s=ct.extend(new ct.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ct.event.trigger(s,null,e):ct.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},ct.removeEvent=yt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===Pt&&(t[n]=null),t.detachEvent(n,i))},ct.Event=function(t,e){return this instanceof ct.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?v:b):this.type=t,e&&ct.extend(this,e),this.timeStamp=t&&t.timeStamp||ct.now(),void(this[ct.expando]=!0)):new ct.Event(t,e)},ct.Event.prototype={isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ct.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ct.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==n&&!ct.contains(n,s))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),at.submitBubbles||(ct.event.special.submit={setup:function(){return ct.nodeName(this,"form")?!1:void ct.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=ct.nodeName(e,"input")||ct.nodeName(e,"button")?e.form:void 0;i&&!ct._data(i,"submitBubbles")&&(ct.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),ct._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ct.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ct.nodeName(this,"form")?!1:void ct.event.remove(this,"._submit")}}),at.changeBubbles||(ct.event.special.change={setup:function(){return Ht.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ct.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ct.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ct.event.simulate("change",this,t,!0)})),!1):void ct.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ht.test(e.nodeName)&&!ct._data(e,"changeBubbles")&&(ct.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ct.event.simulate("change",this.parentNode,t,!0)}),ct._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ct.event.remove(this,"._change"),!Ht.test(this.nodeName)}}),at.focusinBubbles||ct.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ct.event.simulate(e,t.target,ct.event.fix(t),!0)};ct.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=ct._data(n,e);s||n.addEventListener(t,i,!0),ct._data(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=ct._data(n,e)-1;s?ct._data(n,e,s):(n.removeEventListener(t,i,!0),ct._removeData(n,e))}}}),ct.fn.extend({on:function(t,e,i,n,s){var o,r;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(o in t)this.on(o,e,i,t[o],s);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=b;else if(!n)return this;return 1===s&&(r=n,n=function(t){return ct().off(t),r.apply(this,arguments)},n.guid=r.guid||(r.guid=ct.guid++)),this.each(function(){ct.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ct(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=b),this.each(function(){ct.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){ct.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ct.event.trigger(t,e,i,!0):void 0}});var Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Kt=/ jQuery\d+="(?:null|\d+)"/g,Ft=new RegExp("<(?:"+Wt+")[\\s/>]","i"),qt=/^\s+/,Ut=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Xt=/<([\w:]+)/,Yt=/<tbody/i,$t=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jt=/^$|\/(?:java|ecma)script/i,Qt=/^true\/(.*)/,Zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,te={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:at.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ee=C(yt),ie=ee.appendChild(yt.createElement("div"));te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td,ct.extend({clone:function(t,e,i){var n,s,o,r,a,l=ct.contains(t.ownerDocument,t);if(at.html5Clone||ct.isXMLDoc(t)||!Ft.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ie.innerHTML=t.outerHTML,ie.removeChild(o=ie.firstChild)),!(at.noCloneEvent&&at.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ct.isXMLDoc(t)))for(n=w(o),a=w(t),r=0;null!=(s=a[r]);++r)n[r]&&P(s,n[r]);if(e)if(i)for(a=a||w(t),n=n||w(o),r=0;null!=(s=a[r]);r++)E(s,n[r]);else E(t,o);return n=w(o,"script"),n.length>0&&k(n,!l&&w(t,"script")),n=a=s=null,o},buildFragment:function(t,e,i,n){for(var s,o,r,a,l,c,u,d=t.length,h=C(e),p=[],f=0;d>f;f++)if(o=t[f],o||0===o)if("object"===ct.type(o))ct.merge(p,o.nodeType?[o]:o);else if($t.test(o)){for(a=a||h.appendChild(e.createElement("div")),l=(Xt.exec(o)||["",""])[1].toLowerCase(),u=te[l]||te._default,a.innerHTML=u[1]+o.replace(Ut,"<$1></$2>")+u[2],s=u[0];s--;)a=a.lastChild;if(!at.leadingWhitespace&&qt.test(o)&&p.push(e.createTextNode(qt.exec(o)[0])),!at.tbody)for(o="table"!==l||Yt.test(o)?"<table>"!==u[1]||Yt.test(o)?0:a:a.firstChild,s=o&&o.childNodes.length;s--;)ct.nodeName(c=o.childNodes[s],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(ct.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else p.push(e.createTextNode(o));for(a&&h.removeChild(a),at.appendChecked||ct.grep(w(p,"input"),_),f=0;o=p[f++];)if((!n||-1===ct.inArray(o,n))&&(r=ct.contains(o.ownerDocument,o),a=w(h.appendChild(o),"script"),r&&k(a),i))for(s=0;o=a[s++];)Jt.test(o.type||"")&&i.push(o);return a=null,h},cleanData:function(t,e){for(var i,n,s,o,r=0,a=ct.expando,l=ct.cache,c=at.deleteExpando,u=ct.event.special;null!=(i=t[r]);r++)if((e||ct.acceptData(i))&&(s=i[a],o=s&&l[s])){if(o.events)for(n in o.events)u[n]?ct.event.remove(i,n):ct.removeEvent(i,n,o.handle);l[s]&&(delete l[s],c?delete i[a]:typeof i.removeAttribute!==Pt?i.removeAttribute(a):i[a]=null,Z.push(s))}}}),ct.fn.extend({text:function(t){return Lt(this,function(t){return void 0===t?ct.text(this):this.empty().append((this[0]&&this[0].ownerDocument||yt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ct.filter(t,this):this,s=0;null!=(i=n[s]);s++)e||1!==i.nodeType||ct.cleanData(w(i)),i.parentNode&&(e&&ct.contains(i.ownerDocument,i)&&k(w(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ct.cleanData(w(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ct.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ct.clone(this,t,e)})},html:function(t){return Lt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Kt,""):void 0;if(!("string"!=typeof t||Vt.test(t)||!at.htmlSerialize&&Ft.test(t)||!at.leadingWhitespace&&qt.test(t)||te[(Xt.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ut,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(ct.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(s){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ct.cleanData(w(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=et.apply([],t);var i,n,s,o,r,a,l=0,c=this.length,u=this,d=c-1,h=t[0],p=ct.isFunction(h);if(p||c>1&&"string"==typeof h&&!at.checkClone&&Gt.test(h))return this.each(function(i){var n=u.eq(i);p&&(t[0]=h.call(this,i,n.html())),n.domManip(t,e)});if(c&&(a=ct.buildFragment(t,this[0].ownerDocument,!1,this),i=a.firstChild,1===a.childNodes.length&&(a=i),i)){for(o=ct.map(w(a,"script"),T),s=o.length;c>l;l++)n=a,l!==d&&(n=ct.clone(n,!0,!0),s&&ct.merge(o,w(n,"script"))),e.call(this[l],n,l);if(s)for(r=o[o.length-1].ownerDocument,ct.map(o,S),l=0;s>l;l++)n=o[l],Jt.test(n.type||"")&&!ct._data(n,"globalEval")&&ct.contains(r,n)&&(n.src?ct._evalUrl&&ct._evalUrl(n.src):ct.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Zt,"")));a=i=null}return this}}),ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ct.fn[t]=function(t){for(var i,n=0,s=[],o=ct(t),r=o.length-1;r>=n;n++)i=n===r?this:this.clone(!0),ct(o[n])[e](i),it.apply(s,i.get());return this.pushStack(s)}});var ne,se={};!function(){var t;at.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=yt.getElementsByTagName("body")[0],i&&i.style?(e=yt.createElement("div"),n=yt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Pt&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(yt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),
i.removeChild(n),t):void 0}}();var oe,re,ae=/^margin/,le=new RegExp("^("+At+")(?!px)[a-z%]+$","i"),ce=/^(top|right|bottom|left)$/;o.getComputedStyle?(oe=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):o.getComputedStyle(t,null)},re=function(t,e,i){var n,s,o,r,a=t.style;return i=i||oe(t),r=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==r||ct.contains(t.ownerDocument,t)||(r=ct.style(t,e)),le.test(r)&&ae.test(e)&&(n=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=s,a.maxWidth=o)),void 0===r?r:r+""}):yt.documentElement.currentStyle&&(oe=function(t){return t.currentStyle},re=function(t,e,i){var n,s,o,r,a=t.style;return i=i||oe(t),r=i?i[e]:void 0,null==r&&a&&a[e]&&(r=a[e]),le.test(r)&&!ce.test(e)&&(n=a.left,s=t.runtimeStyle,o=s&&s.left,o&&(s.left=t.currentStyle.left),a.left="fontSize"===e?"1em":r,r=a.pixelLeft+"px",a.left=n,o&&(s.left=o)),void 0===r?r:r+""||"auto"}),!function(){function t(){var t,e,i,n;e=yt.getElementsByTagName("body")[0],e&&e.style&&(t=yt.createElement("div"),i=yt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s=r=!1,l=!0,o.getComputedStyle&&(s="1%"!==(o.getComputedStyle(t,null)||{}).top,r="4px"===(o.getComputedStyle(t,null)||{width:"4px"}).width,n=t.appendChild(yt.createElement("div")),n.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",t.style.width="1px",l=!parseFloat((o.getComputedStyle(n,null)||{}).marginRight),t.removeChild(n)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",n=t.getElementsByTagName("td"),n[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===n[0].offsetHeight,a&&(n[0].style.display="",n[1].style.display="none",a=0===n[0].offsetHeight),e.removeChild(i))}var e,i,n,s,r,a,l;e=yt.createElement("div"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],(i=n&&n.style)&&(i.cssText="float:left;opacity:.5",at.opacity="0.5"===i.opacity,at.cssFloat=!!i.cssFloat,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",at.clearCloneStyle="content-box"===e.style.backgroundClip,at.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,ct.extend(at,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==r&&t(),r},pixelPosition:function(){return null==s&&t(),s},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ct.swap=function(t,e,i,n){var s,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];s=i.apply(t,n||[]);for(o in e)t.style[o]=r[o];return s};var ue=/alpha\([^)]*\)/i,de=/opacity\s*=\s*([^)]*)/,he=/^(none|table(?!-c[ea]).+)/,pe=new RegExp("^("+At+")(.*)$","i"),fe=new RegExp("^([+-])=("+At+")","i"),me={position:"absolute",visibility:"hidden",display:"block"},ge={letterSpacing:"0",fontWeight:"400"},ve=["Webkit","O","Moz","ms"];ct.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=re(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":at.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,r,a=ct.camelCase(e),l=t.style;if(e=ct.cssProps[a]||(ct.cssProps[a]=N(l,a)),r=ct.cssHooks[e]||ct.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(s=r.get(t,!1,n))?s:l[e];if(o=typeof i,"string"===o&&(s=fe.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(ct.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||ct.cssNumber[a]||(i+="px"),at.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&void 0===(i=r.set(t,i,n)))))try{l[e]=i}catch(c){}}},css:function(t,e,i,n){var s,o,r,a=ct.camelCase(e);return e=ct.cssProps[a]||(ct.cssProps[a]=N(t.style,a)),r=ct.cssHooks[e]||ct.cssHooks[a],r&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=re(t,e,n)),"normal"===o&&e in ge&&(o=ge[e]),""===i||i?(s=parseFloat(o),i===!0||ct.isNumeric(s)?s||0:o):o}}),ct.each(["height","width"],function(t,e){ct.cssHooks[e]={get:function(t,i,n){return i?he.test(ct.css(t,"display"))&&0===t.offsetWidth?ct.swap(t,me,function(){return H(t,e,n)}):H(t,e,n):void 0},set:function(t,i,n){var s=n&&oe(t);return L(t,i,n?O(t,e,n,at.boxSizing&&"border-box"===ct.css(t,"boxSizing",!1,s),s):0)}}}),at.opacity||(ct.cssHooks.opacity={get:function(t,e){return de.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=ct.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ct.trim(o.replace(ue,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ue.test(o)?o.replace(ue,s):o+" "+s)}}),ct.cssHooks.marginRight=A(at.reliableMarginRight,function(t,e){return e?ct.swap(t,{display:"inline-block"},re,[t,"marginRight"]):void 0}),ct.each({margin:"",padding:"",border:"Width"},function(t,e){ct.cssHooks[t+e]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+Nt[n]+e]=o[n]||o[n-2]||o[0];return s}},ae.test(t)||(ct.cssHooks[t+e].set=L)}),ct.fn.extend({css:function(t,e){return Lt(this,function(t,e,i){var n,s,o={},r=0;if(ct.isArray(e)){for(n=oe(t),s=e.length;s>r;r++)o[e[r]]=ct.css(t,e[r],!1,n);return o}return void 0!==i?ct.style(t,e,i):ct.css(t,e)},t,e,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Dt(this)?ct(this).show():ct(this).hide()})}}),ct.Tween=j,j.prototype={constructor:j,init:function(t,e,i,n,s,o){this.elem=t,this.prop=i,this.easing=s||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ct.cssNumber[i]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,i=j.propHooks[this.prop];return this.options.duration?this.pos=e=ct.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ct.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ct.fx.step[t.prop]?ct.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ct.cssProps[t.prop]]||ct.cssHooks[t.prop])?ct.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ct.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ct.fx=j.prototype.init,ct.fx.step={};var be,ye,Ce=/^(?:toggle|show|hide)$/,we=new RegExp("^(?:([+-])=|)("+At+")([a-z%]*)$","i"),_e=/queueHooks$/,xe=[W],Te={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),s=we.exec(e),o=s&&s[3]||(ct.cssNumber[t]?"":"px"),r=(ct.cssNumber[t]||"px"!==o&&+n)&&we.exec(ct.css(i.elem,t)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],s=s||[],r=+n||1;do a=a||".5",r/=a,ct.style(i.elem,t,r+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(r=i.start=+r||+n||0,i.unit=o,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};ct.Animation=ct.extend(F,{tweener:function(t,e){ct.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,s=t.length;s>n;n++)i=t[n],Te[i]=Te[i]||[],Te[i].unshift(e)},prefilter:function(t,e){e?xe.unshift(t):xe.push(t)}}),ct.speed=function(t,e,i){var n=t&&"object"==typeof t?ct.extend({},t):{complete:i||!i&&e||ct.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ct.isFunction(e)&&e};return n.duration=ct.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ct.fx.speeds?ct.fx.speeds[n.duration]:ct.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ct.isFunction(n.old)&&n.old.call(this),n.queue&&ct.dequeue(this,n.queue)},n},ct.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=ct.isEmptyObject(t),o=ct.speed(e,i,n),r=function(){var e=F(this,ct.extend({},t),o);(s||ct._data(this,"finish"))&&e.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",o=ct.timers,r=ct._data(this);if(s)r[s]&&r[s].stop&&n(r[s]);else for(s in r)r[s]&&r[s].stop&&_e.test(s)&&n(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=t&&o[s].queue!==t||(o[s].anim.stop(i),e=!1,o.splice(s,1));(e||!i)&&ct.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ct._data(this),n=i[t+"queue"],s=i[t+"queueHooks"],o=ct.timers,r=n?n.length:0;for(i.finish=!0,ct.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ct.each(["toggle","show","hide"],function(t,e){var i=ct.fn[e];ct.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(B(e,!0),t,n,s)}}),ct.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ct.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ct.timers=[],ct.fx.tick=function(){var t,e=ct.timers,i=0;for(be=ct.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||ct.fx.stop(),be=void 0},ct.fx.timer=function(t){ct.timers.push(t),t()?ct.fx.start():ct.timers.pop()},ct.fx.interval=13,ct.fx.start=function(){ye||(ye=setInterval(ct.fx.tick,ct.fx.interval))},ct.fx.stop=function(){clearInterval(ye),ye=null},ct.fx.speeds={slow:600,fast:200,_default:400},ct.fn.delay=function(t,e){return t=ct.fx?ct.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,s;e=yt.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=yt.createElement("select"),s=i.appendChild(yt.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",at.getSetAttribute="t"!==e.className,at.style=/top/.test(n.getAttribute("style")),at.hrefNormalized="/a"===n.getAttribute("href"),at.checkOn=!!t.value,at.optSelected=s.selected,at.enctype=!!yt.createElement("form").enctype,i.disabled=!0,at.optDisabled=!s.disabled,t=yt.createElement("input"),t.setAttribute("value",""),at.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),at.radioValue="t"===t.value}();var Se=/\r/g;ct.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=ct.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,ct(this).val()):t,null==s?s="":"number"==typeof s?s+="":ct.isArray(s)&&(s=ct.map(s,function(t){return null==t?"":t+""})),e=ct.valHooks[this.type]||ct.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))})):s?(e=ct.valHooks[s.type]||ct.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(Se,""):null==i?"":i)):void 0}}),ct.extend({valHooks:{option:{get:function(t){var e=ct.find.attr(t,"value");return null!=e?e:ct.trim(ct.text(t))}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,o="select-one"===t.type||0>s,r=o?null:[],a=o?s+1:n.length,l=0>s?a:o?s:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==s||(at.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ct.nodeName(i.parentNode,"optgroup"))){if(e=ct(i).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var i,n,s=t.options,o=ct.makeArray(e),r=s.length;r--;)if(n=s[r],ct.inArray(ct.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),s}}}}),ct.each(["radio","checkbox"],function(){ct.valHooks[this]={set:function(t,e){return ct.isArray(e)?t.checked=ct.inArray(ct(t).val(),e)>=0:void 0}},at.checkOn||(ct.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ke,Ee,Pe=ct.expr.attrHandle,Me=/^(?:checked|selected)$/i,Ie=at.getSetAttribute,Ae=at.input;ct.fn.extend({attr:function(t,e){return Lt(this,ct.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ct.removeAttr(this,t)})}}),ct.extend({attr:function(t,e,i){var n,s,o=t.nodeType;return t&&3!==o&&8!==o&&2!==o?typeof t.getAttribute===Pt?ct.prop(t,e,i):(1===o&&ct.isXMLDoc(t)||(e=e.toLowerCase(),n=ct.attrHooks[e]||(ct.expr.match.bool.test(e)?Ee:ke)),void 0===i?n&&"get"in n&&null!==(s=n.get(t,e))?s:(s=ct.find.attr(t,e),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(t,i,e))?s:(t.setAttribute(e,i+""),i):void ct.removeAttr(t,e)):void 0},removeAttr:function(t,e){var i,n,s=0,o=e&&e.match(Tt);if(o&&1===t.nodeType)for(;i=o[s++];)n=ct.propFix[i]||i,ct.expr.match.bool.test(i)?Ae&&Ie||!Me.test(i)?t[n]=!1:t[ct.camelCase("default-"+i)]=t[n]=!1:ct.attr(t,i,""),t.removeAttribute(Ie?i:n)},attrHooks:{type:{set:function(t,e){if(!at.radioValue&&"radio"===e&&ct.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),Ee={set:function(t,e,i){return e===!1?ct.removeAttr(t,i):Ae&&Ie||!Me.test(i)?t.setAttribute(!Ie&&ct.propFix[i]||i,i):t[ct.camelCase("default-"+i)]=t[i]=!0,i}},ct.each(ct.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Pe[e]||ct.find.attr;Pe[e]=Ae&&Ie||!Me.test(e)?function(t,e,n){var s,o;return n||(o=Pe[e],Pe[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,Pe[e]=o),s}:function(t,e,i){return i?void 0:t[ct.camelCase("default-"+e)]?e.toLowerCase():null}}),Ae&&Ie||(ct.attrHooks.value={set:function(t,e,i){return ct.nodeName(t,"input")?void(t.defaultValue=e):ke&&ke.set(t,e,i)}}),Ie||(ke={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Pe.id=Pe.name=Pe.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},ct.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:ke.set},ct.attrHooks.contenteditable={set:function(t,e,i){ke.set(t,""===e?!1:e,i)}},ct.each(["width","height"],function(t,e){ct.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),at.style||(ct.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ne=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i;ct.fn.extend({prop:function(t,e){return Lt(this,ct.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ct.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),ct.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,s,o,r=t.nodeType;return t&&3!==r&&8!==r&&2!==r?(o=1!==r||!ct.isXMLDoc(t),o&&(e=ct.propFix[e]||e,s=ct.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=ct.find.attr(t,"tabindex");return e?parseInt(e,10):Ne.test(t.nodeName)||De.test(t.nodeName)&&t.href?0:-1}}}}),at.hrefNormalized||ct.each(["href","src"],function(t,e){ct.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),at.optSelected||(ct.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ct.propFix[this.toLowerCase()]=this}),at.enctype||(ct.propFix.enctype="encoding");var Le=/[\t\r\n\f]/g;ct.fn.extend({addClass:function(t){var e,i,n,s,o,r,a=0,l=this.length,c="string"==typeof t&&t;if(ct.isFunction(t))return this.each(function(e){ct(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(Tt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Le," "):" ")){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r=ct.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(t){var e,i,n,s,o,r,a=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(ct.isFunction(t))return this.each(function(e){ct(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(Tt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Le," "):"")){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");r=t?ct.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(ct.isFunction(t)?function(i){ct(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,s=ct(this),o=t.match(Tt)||[];e=o[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else(i===Pt||"boolean"===i)&&(this.className&&ct._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ct._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Le," ").indexOf(e)>=0)return!0;return!1}}),ct.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ct.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ct.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Oe=ct.now(),He=/\?/,je=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ct.parseJSON=function(t){if(o.JSON&&o.JSON.parse)return o.JSON.parse(t+"");var e,i=null,n=ct.trim(t+"");return n&&!ct.trim(n.replace(je,function(t,n,s,o){return e&&n&&(i=0),0===i?t:(e=s||n,i+=!o-!s,"")}))?Function("return "+n)():ct.error("Invalid JSON: "+t)},ct.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{o.DOMParser?(i=new DOMParser,e=i.parseFromString(t,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t))}catch(n){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ct.error("Invalid XML: "+t),e};var Re,Be,ze=/#.*$/,We=/([?&])_=[^&]*/,Ke=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qe=/^(?:GET|HEAD)$/,Ue=/^\/\//,Xe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ye={},$e={},Ve="*/".concat("*");try{Be=location.href}catch(Ge){Be=yt.createElement("a"),Be.href="",Be=Be.href}Re=Xe.exec(Be.toLowerCase())||[],ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Be,type:"GET",isLocal:Fe.test(Re[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ct.parseJSON,"text xml":ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,ct.ajaxSettings),e):X(ct.ajaxSettings,t)},ajaxPrefilter:q(Ye),ajaxTransport:q($e),ajax:function(t,e){function i(t,e,i,n){var s,u,v,b,C,_=e;2!==y&&(y=2,a&&clearTimeout(a),c=void 0,r=n||"",w.readyState=t>0?4:0,s=t>=200&&300>t||304===t,i&&(b=Y(d,w,i)),b=$(d,b,w,s),s?(d.ifModified&&(C=w.getResponseHeader("Last-Modified"),C&&(ct.lastModified[o]=C),C=w.getResponseHeader("etag"),C&&(ct.etag[o]=C)),204===t||"HEAD"===d.type?_="nocontent":304===t?_="notmodified":(_=b.state,u=b.data,v=b.error,s=!v)):(v=_,(t||!_)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",s?f.resolveWith(h,[u,_,w]):f.rejectWith(h,[w,_,v]),w.statusCode(g),g=void 0,l&&p.trigger(s?"ajaxSuccess":"ajaxError",[w,d,s?u:v]),m.fireWith(h,[w,_]),l&&(p.trigger("ajaxComplete",[w,d]),--ct.active||ct.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,s,o,r,a,l,c,u,d=ct.ajaxSetup({},e),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?ct(h):ct.event,f=ct.Deferred(),m=ct.Callbacks("once memory"),g=d.statusCode||{},v={},b={},y=0,C="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!u)for(u={};e=Ke.exec(r);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=b[i]=b[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||C;return c&&c.abort(e),i(0,e),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||Be)+"").replace(ze,"").replace(Ue,Re[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=ct.trim(d.dataType||"*").toLowerCase().match(Tt)||[""],null==d.crossDomain&&(n=Xe.exec(d.url.toLowerCase()),d.crossDomain=!(!n||n[1]===Re[1]&&n[2]===Re[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Re[3]||("http:"===Re[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ct.param(d.data,d.traditional)),U(Ye,d,e,w),2===y)return w;l=ct.event&&d.global,l&&0===ct.active++&&ct.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!qe.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(He.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=We.test(o)?o.replace(We,"$1_="+Oe++):o+(He.test(o)?"&":"?")+"_="+Oe++)),d.ifModified&&(ct.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ct.lastModified[o]),ct.etag[o]&&w.setRequestHeader("If-None-Match",ct.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ve+"; q=0.01":""):d.accepts["*"]);for(s in d.headers)w.setRequestHeader(s,d.headers[s]);if(d.beforeSend&&(d.beforeSend.call(h,w,d)===!1||2===y))return w.abort();C="abort";for(s in{success:1,error:1,complete:1})w[s](d[s]);if(c=U($e,d,e,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},d.timeout));try{y=1,c.send(v,i)}catch(_){if(!(2>y))throw _;i(-1,_)}}else i(-1,"No Transport");return w},getJSON:function(t,e,i){return ct.get(t,e,i,"json")},getScript:function(t,e){return ct.get(t,void 0,e,"script")}}),ct.each(["get","post"],function(t,e){ct[e]=function(t,i,n,s){return ct.isFunction(i)&&(s=s||n,n=i,i=void 0),ct.ajax({url:t,type:e,dataType:s,data:i,success:n})}}),ct._evalUrl=function(t){return ct.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ct.fn.extend({wrapAll:function(t){if(ct.isFunction(t))return this.each(function(e){ct(this).wrapAll(t.call(this,e))});if(this[0]){var e=ct(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(ct.isFunction(t)?function(e){ct(this).wrapInner(t.call(this,e))}:function(){var e=ct(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ct.isFunction(t);return this.each(function(i){ct(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ct.nodeName(this,"body")||ct(this).replaceWith(this.childNodes)}).end()}}),ct.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!at.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ct.css(t,"display"))},ct.expr.filters.visible=function(t){return!ct.expr.filters.hidden(t)};var Je=/%20/g,Qe=/\[\]$/,Ze=/\r?\n/g,ti=/^(?:submit|button|image|reset|file)$/i,ei=/^(?:input|select|textarea|keygen)/i;ct.param=function(t,e){var i,n=[],s=function(t,e){e=ct.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ct.ajaxSettings&&ct.ajaxSettings.traditional),ct.isArray(t)||t.jquery&&!ct.isPlainObject(t))ct.each(t,function(){s(this.name,this.value)});else for(i in t)V(i,t[i],e,s);return n.join("&").replace(Je,"+")},ct.fn.extend({serialize:function(){return ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ct.prop(this,"elements");return t?ct.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ct(this).is(":disabled")&&ei.test(this.nodeName)&&!ti.test(t)&&(this.checked||!Ot.test(t))}).map(function(t,e){var i=ct(this).val();return null==i?null:ct.isArray(i)?ct.map(i,function(t){return{name:e.name,value:t.replace(Ze,"\r\n")}}):{name:e.name,value:i.replace(Ze,"\r\n")}}).get()}}),ct.ajaxSettings.xhr=void 0!==o.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||J()}:G;var ii=0,ni={},si=ct.ajaxSettings.xhr();o.attachEvent&&o.attachEvent("onunload",function(){for(var t in ni)ni[t](void 0,!0)}),at.cors=!!si&&"withCredentials"in si,si=at.ajax=!!si,si&&ct.ajaxTransport(function(t){if(!t.crossDomain||at.cors){var e;return{send:function(i,n){var s,o=t.xhr(),r=++ii;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)void 0!==i[s]&&o.setRequestHeader(s,i[s]+"");o.send(t.hasContent&&t.data||null),e=function(i,s){var a,l,c;if(e&&(s||4===o.readyState))if(delete ni[r],e=void 0,o.onreadystatechange=ct.noop,s)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(u){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&n(a,l,c,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=ni[r]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ct.globalEval(t),t}}}),ct.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ct.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=yt.head||ct("head")[0]||yt.documentElement;return{send:function(n,s){e=yt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||s(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var oi=[],ri=/(=)\?(?=&|$)|\?\?/;ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=oi.pop()||ct.expando+"_"+Oe++;return this[t]=!0,t}}),ct.ajaxPrefilter("json jsonp",function(t,e,i){var n,s,r,a=t.jsonp!==!1&&(ri.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ri.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(n=t.jsonpCallback=ct.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ri,"$1"+n):t.jsonp!==!1&&(t.url+=(He.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||ct.error(n+" was not called"),r[0]},t.dataTypes[0]="json",s=o[n],o[n]=function(){r=arguments},i.always(function(){o[n]=s,t[n]&&(t.jsonpCallback=e.jsonpCallback,oi.push(n)),r&&ct.isFunction(s)&&s(r[0]),r=s=void 0}),"script"):void 0}),ct.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||yt;var n=gt.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=ct.buildFragment([t],e,s),s&&s.length&&ct(s).remove(),ct.merge([],n.childNodes))};var ai=ct.fn.load;ct.fn.load=function(t,e,i){if("string"!=typeof t&&ai)return ai.apply(this,arguments);var n,s,o,r=this,a=t.indexOf(" ");return a>=0&&(n=ct.trim(t.slice(a,t.length)),t=t.slice(0,a)),ct.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&ct.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){s=arguments,r.html(n?ct("<div>").append(ct.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){r.each(i,s||[t.responseText,e,t])}),this},ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ct.fn[e]=function(t){return this.on(e,t)}}),ct.expr.filters.animated=function(t){return ct.grep(ct.timers,function(e){return t===e.elem}).length};var li=o.document.documentElement;ct.offset={setOffset:function(t,e,i){var n,s,o,r,a,l,c,u=ct.css(t,"position"),d=ct(t),h={};"static"===u&&(t.style.position="relative"),a=d.offset(),o=ct.css(t,"top"),l=ct.css(t,"left"),c=("absolute"===u||"fixed"===u)&&ct.inArray("auto",[o,l])>-1,c?(n=d.position(),r=n.top,s=n.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),ct.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(h.top=e.top-a.top+r),null!=e.left&&(h.left=e.left-a.left+s),"using"in e?e.using.call(t,h):d.css(h)}},ct.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ct.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},s=this[0],o=s&&s.ownerDocument;return o?(e=o.documentElement,ct.contains(e,s)?(typeof s.getBoundingClientRect!==Pt&&(n=s.getBoundingClientRect()),i=Q(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ct.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ct.nodeName(t[0],"html")||(i=t.offset()),i.top+=ct.css(t[0],"borderTopWidth",!0),i.left+=ct.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ct.css(n,"marginTop",!0),left:e.left-i.left-ct.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||li;t&&!ct.nodeName(t,"html")&&"static"===ct.css(t,"position");)t=t.offsetParent;return t||li})}}),ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);ct.fn[t]=function(n){return Lt(this,function(t,n,s){var o=Q(t);return void 0===s?o?e in o?o[e]:o.document.documentElement[n]:t[n]:void(o?o.scrollTo(i?ct(o).scrollLeft():s,i?s:ct(o).scrollTop()):t[n]=s);
},t,n,arguments.length,null)}}),ct.each(["top","left"],function(t,e){ct.cssHooks[e]=A(at.pixelPosition,function(t,i){return i?(i=re(t,e),le.test(i)?ct(t).position()[e]+"px":i):void 0})}),ct.each({Height:"height",Width:"width"},function(t,e){ct.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ct.fn[n]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||s===!0?"margin":"border");return Lt(this,function(e,i,n){var s;return ct.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?ct.css(e,i,r):ct.style(e,i,n,r)},e,o?n:void 0,o,null)}})}),ct.fn.size=function(){return this.length},ct.fn.andSelf=ct.fn.addBack,i(9)&&(n=[],s=function(){return ct}.apply(e,n),!(void 0!==s&&(t.exports=s)));var ci=o.jQuery,ui=o.$;return ct.noConflict=function(t){return o.$===ct&&(o.$=ui),t&&o.jQuery===ct&&(o.jQuery=ci),ct},typeof r===Pt&&(o.jQuery=o.$=ct),ct})},function(t,e,i){var n=i(1),s=i(3),o={$:n,Class:s,API:{},KEYS:{SHIFT:16,TAB:9,UP:38,DOWN:40,ENTER:13,SPACE:32,ESC:27,CMD_LEFT:91,CMD_RIGHT:93,CMD_FIREFOX:224,CTRL:17}},r=function(t){return t.split(/\s+/g).map(function(t){return"cms-"+t}).join(" ")};o.API.Helpers={_isReloading:!1,reloadBrowser:function(t,e,i,s){var o=this,r=this._getWindow(),a=r.parent?r.parent:r;return o._isReloading=!0,i?(a.CMS.API.locked=!0,n.ajax({async:!1,type:"GET",url:a.CMS.config.request.url,data:s||{model:a.CMS.config.request.model,pk:a.CMS.config.request.pk},success:function(e){return a.CMS.API.locked=!1,""!==e||t?void(a.location.pathname!==e&&""!==e?o.reloadBrowser(e):"REFRESH_PAGE"===t?o.reloadBrowser():t&&o.reloadBrowser(t)):!1}}),!1):void a.setTimeout(function(){t&&t!==a.location.href?a.location.href=t:a.location.reload()},e||0)},onPluginSave:function(){this._isReloading||this.reloadBrowser(null,300)},preventSubmit:function(){var t=n(".cms-toolbar").find("form"),e=.5;t.submit(function(){o.API.Toolbar.showLoader(),n('input[type="submit"]').on("click",function(t){t.preventDefault()}).css("opacity",e)})},csrf:function(t){n.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-CSRFToken",t)}})},setSettings:function(t){var e=JSON.stringify(n.extend({},window.CMS.config.settings,t));return o.API.Toolbar&&o.API.Toolbar.showLoader(),this._isStorageSupported?(localStorage.setItem("cms_cookie",e),o.API.Toolbar&&o.API.Toolbar.hideLoader()):(o.API.locked=!0,n.ajax({async:!1,type:"POST",url:window.CMS.config.urls.settings,data:{csrfmiddlewaretoken:window.CMS.config.csrf,settings:e},success:function(t){o.API.locked=!1,e=t?JSON.parse(t):window.CMS.config.settings,o.API.Toolbar&&o.API.Toolbar.hideLoader()},error:function(t){o.API.Messages.open({message:t.responseText+" | "+t.status+" "+t.statusText,error:!0})}})),o.settings="object"==typeof e?e:JSON.parse(e),o.settings},getSettings:function(){var t;return o.API.Toolbar&&o.API.Toolbar.showLoader(),this._isStorageSupported?(t=JSON.parse(localStorage.getItem("cms_cookie")),o.API.Toolbar&&o.API.Toolbar.hideLoader()):(o.API.locked=!0,n.ajax({async:!1,type:"GET",url:window.CMS.config.urls.settings,success:function(e){o.API.locked=!1,t=e?JSON.parse(e):window.CMS.config.settings,o.API.Toolbar&&o.API.Toolbar.hideLoader()},error:function(t){o.API.Messages.open({message:t.responseText+" | "+t.status+" "+t.statusText,error:!0})}})),t||(t=this.setSettings(window.CMS.config.settings)),o.settings=t,o.settings},makeURL:function(t,e){var i=[],s=[],o=[],r="",a=[],l=[],c=t;t.split("?").length>1&&(a=t.split("?"),l=a[1].replace(/&(?:amp;)/g,"&").split("&"),c=a[0]),n.each(l,function(t,e){i.push({param:e.split("=")[0],value:e.split("=")[1]})}),e&&e.length&&n.each(e,function(t,e){i.push({param:e.split("=")[0],value:e.split("=")[1]})}),n.each(i,function(t,e){var i=n.inArray(e.param,s);-1===i?(s.push(e.param),o.push(e.value)):o[i]=e.value}),n.each(s,function(t,e){r+="&"+e+"="+o[t]}),r=r.replace("&","?");var u=c+r;return u=u.replace(/&/g,"&amp;")},debounce:function(t,e,i){var n;return function(){var s=this,o=arguments,r=function(){n=null,i&&i.immediate||t.apply(s,o)},a=i&&i.immediate&&!n;clearTimeout(n),n=setTimeout(r,e),a&&t.apply(s,o)}},throttle:function(t,e,i){var s,o,r,a=null,l=0;i||(i={});var c=function(){l=i.leading===!1?0:n.now(),a=null,r=t.apply(s,o),a||(s=o=null)};return function(){var u=n.now();l||i.leading!==!1||(l=u);var d=e-(u-l);return s=this,o=arguments,0>=d||d>e?(a&&(clearTimeout(a),a=null),l=u,r=t.apply(s,o),a||(s=o=null)):a||i.trailing===!1||(a=setTimeout(c,d)),r}},secureConfirm:function(t){var e=Number(new Date),i=confirm(t),n=Number(new Date),s=10;return e+s>n||i===!0},_isStorageSupported:function(){var t="modernizr";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}(),addEventListener:function(t,e){return o._eventRoot.on(r(t),e)},removeEventListener:function(t,e){return o._eventRoot.off(r(t),e)},dispatchEvent:function(t,e){var i=new n.Event(r(t));return o._eventRoot.trigger(i,[e]),i},once:function(t){var e,i=!1;return function(){return i?t=void 0:(i=!0,e=t.apply(this,arguments)),e}},preventTouchScrolling:function(t,e){t.on("touchmove.cms.preventscroll."+e,function(t){t.preventDefault()})},allowTouchScrolling:function(t,e){t.off("touchmove.cms.preventscroll."+e)},_getWindow:function(){return window}},n(function(){o._eventRoot=n("#cms-top"),o.API.Helpers.preventSubmit()}),t.exports=o},function(t,e){!function(){function t(t){var e=function(){};return e.prototype=t.prototype||t,new e}function e(t,e,i){if(i){var n={};for(var s in t)s!==e&&(n[s]=t[s])}else delete t[e];return n||t}function i(e,n,s){if(!e||!n)return e||n||{};e=t(e),n=t(n);for(var o in n)"[object Object]"===Object.prototype.toString.call(n[o])?i(e[o],n[o]):e[o]=s&&e[o]?e[o]:n[o];return e}function n(t){for(var s={},o=0;o<t.length;o++){"function"==typeof t[o]&&(t[o]=t[o].prototype);var r=e(t[o],"initialize",!0);s=r.implement?n(r.implement):i(s,r)}return s}var s="1.0",o=window.Class,r=window.Class=function(s){s=s||{};var o=function(){return this.initialize?this.initialize.apply(this,arguments):a};if(s.implement){var a=window===this?t(o.prototype):this,l=s.implement;e(s,"implement"),s=i(s,n(l))}o.prototype=t(s),o.constructor=o,o._parent=t(s);for(var c=0,u=["extend","implement","getOptions","setOptions"];c<u.length;c++)o[u[c]]=r[u[c]];return o};r.extend=function(t){var s=this;t.implement&&(this.prototype=i(this.prototype,n(t.implement)),e(t,"implement"));for(var o in t)t[o]="function"==typeof t[o]&&/parent/.test(t[o].toString())?function(t,e){return function(){return this.parent=s._parent[e],t.apply(this,arguments)}}(t[o],o):t[o];return this._parent=i(this._parent,t,!0),this.prototype=i(this.prototype,t),this},r.implement=function(t){return this.prototype=i(this.prototype,n(t))},r.getOptions=function(){return this.prototype.options||{}},r.setOptions=function(t){return this.prototype.options=i(this.prototype.options,t)},r.noConflict=function(){return window.Class=o,r},r.version=s}(),t.exports=Class},function(t,e,i){function n(t,e){var i=e(t);return i.prototype=t.prototype,i}var s=i(47),o=i(1);s._applyBindings=n(s._applyBindings,function(t){return function(e){return o(":focus").is("input, textarea, select, [contenteditable]")?!0:void t.call(this,e)}}),t.exports=s},function(t,e,i){var n,s,o=i(1),r=i(3),a=i(2).API.Helpers,l=i(2).KEYS,c=i(13),u=i(4);i(42),i(19);var d=new r({implement:[a],options:{onClose:!1,closeOnEsc:!0,minHeight:400,minWidth:800,modalDuration:200,resizable:!0,maximizable:!0,minimizable:!0},initialize:function(t){this.options=o.extend(!0,{},this.options,t),this._setupUI(),this._setupEventEmitter(),this.click="click.cms.modal",this.pointerDown="pointerdown.cms.modal contextmenu.cms.modal",this.pointerUp="pointerup.cms.modal pointercancel.cms.modal",this.pointerMove="pointermove.cms.modal",this.doubleClick="dblclick.cms.modal",this.touchEnd="touchend.cms.modal",this.keyUp="keyup.cms.modal",this.maximized=!1,this.minimized=!1,this.triggerMaximized=!1,this.saved=!1,this._beforeUnloadHandler=this._beforeUnloadHandler.bind(this)},_setupEventEmitter:function(){function t(t){return function(){return i[t].apply(i,arguments),e}}var e=this,i=o({});this.trigger=t("trigger"),this.one=t("one"),this.on=t("on"),this.off=t("off")},_setupUI:function(){var t=o(".cms-modal");this.ui={modal:t,body:o("html"),window:o(window),toolbarLeftPart:o(".cms-toolbar-left"),minimizeButton:t.find(".cms-modal-minimize"),maximizeButton:t.find(".cms-modal-maximize"),title:t.find(".cms-modal-title"),titlePrefix:t.find(".cms-modal-title-prefix"),titleSuffix:t.find(".cms-modal-title-suffix"),resize:t.find(".cms-modal-resize"),breadcrumb:t.find(".cms-modal-breadcrumb"),closeAndCancel:t.find(".cms-modal-close, .cms-modal-cancel"),modalButtons:t.find(".cms-modal-buttons"),modalBody:t.find(".cms-modal-body"),frame:t.find(".cms-modal-frame"),shim:t.find(".cms-modal-shim")}},_events:function(){var t=this;this.ui.minimizeButton.off(this.click+" "+this.touchEnd+" "+this.keyUp).on(this.click+" "+this.touchEnd+" "+this.keyUp,function(e){("keyup"!==e.type||"keyup"===e.type&&e.keyCode===l.ENTER)&&(e.preventDefault(),t.minimize())}),this.ui.maximizeButton.off(this.click+" "+this.touchEnd+" "+this.keyUp).on(this.click+" "+this.touchEnd+" "+this.keyUp,function(e){("keyup"!==e.type||"keyup"===e.type&&e.keyCode===l.ENTER)&&(e.preventDefault(),t.maximize())}),this.ui.title.off(this.pointerDown).on(this.pointerDown,function(e){e.preventDefault(),t._startMove(e)}),this.ui.title.off(this.doubleClick).on(this.doubleClick,function(){t.maximize()}),this.ui.resize.off(this.pointerDown).on(this.pointerDown,function(e){e.preventDefault(),t._startResize(e)}),this.ui.closeAndCancel.off(this.click+" "+this.touchEnd+" "+this.keyUp).on(this.click+" "+this.touchEnd+" "+this.keyUp,function(e){("keyup"!==e.type||"keyup"===e.type&&e.keyCode===l.ENTER)&&(e.preventDefault(),t._cancelHandler())}),this.ui.breadcrumb.off(this.click,"a").on(this.click,"a",function(e){e.preventDefault(),t._changeIframe(o(this))})},open:function(t){if(!(t&&t.url||t&&t.html))throw new Error('The arguments passed to "open" were invalid.');this._events(),this.trigger("cms.modal.load"),this.ui.modal.trigger("cms.modal.load"),this.ui.resize.toggle(this.options.resizable),this.ui.minimizeButton.toggle(this.options.minimizable),this.ui.maximizeButton.toggle(this.options.maximizable);var e=this._calculateNewPosition(t);this.ui.maximizeButton.removeClass("cms-modal-maximize-active"),this.maximized=!1,this.ui.body.hasClass("cms-modal-minimized")&&(this.minimized=!0,this.minimize()),this.ui.modalButtons.empty(),this.ui.breadcrumb.empty(),this.ui.modal.removeClass("cms-modal-has-breadcrumb"),CMS.API.Tooltip.hide(),t.url?this._loadIframe({url:t.url,title:t.title,breadcrumbs:t.breadcrumbs}):this._loadMarkup({html:t.html,title:t.title,subtitle:t.subtitle}),this.trigger("cms.modal.loaded");var i=u.getContext();return"modal"!==i&&(n=u.getContext(),s=o(document.activeElement)),this._show(o.extend({duration:this.options.modalDuration},e)),u.setContext("modal"),this.ui.modal.trap(),this},_calculateNewPosition:function(t){var e,i,n=300,s=300,o=this.ui.window.width(),r=this.ui.window.height(),a=t.width||this.options.minWidth,l=t.height||this.options.minHeight,c=o>=a+n,u=r>=l+s,d=c&&!t.width?o-n:a,h=u&&!t.height?r-s:l,p=this.ui.modal.css("left"),f=this.ui.modal.css("top");return"50%"===p&&(p=o/2),"50%"===f&&(f=r/2),f=parseInt(f,10),p=parseInt(p,10),(d/2+p>o||h/2+f>r||0>p-d/2||0>f-h/2)&&(e=o/2,i=r/2),(d>=o||h>=r)&&(this.triggerMaximized=!0),{width:d,height:h,top:i,left:e}},_show:function(t){var e=this,i=t.width,n=t.height,s=t.duration,o=t.top,r=t.left;this.ui.modal.hasClass("cms-modal-open")&&this.ui.modal.addClass("cms-modal-morphing"),this.ui.modal.css({display:"block",width:i,height:n,top:o,left:r,"margin-left":-(i/2),"margin-top":-(n/2)}),setTimeout(function(){e.ui.modal.addClass("cms-modal-open")},0),this.ui.modal.one("cmsTransitionEnd",function(){e.ui.modal.removeClass("cms-modal-morphing"),e.ui.modal.css({"margin-left":-(i/2),"margin-top":-(n/2)}),e.triggerMaximized&&e.maximize(),CMS.API.locked=!1,e.trigger("cms.modal.shown")}).emulateTransitionEnd(s),this.ui.body.off("keydown.cms.close").on("keydown.cms.close",function(t){t.keyCode===l.ESC&&e.options.closeOnEsc&&(t.stopPropagation(),e._confirmDirtyEscCancel()&&e._cancelHandler())}),this.ui.modal.focus()},close:function(){var t=a.dispatchEvent("modal-close",{instance:this});if(t.isDefaultPrevented())return!1;a._getWindow().removeEventListener("beforeunload",this._beforeUnloadHandler),this.options.onClose&&a.reloadBrowser(this.options.onClose,!1,!0),this._hide({duration:this.options.modalDuration/2}),this.ui.modal.untrap(),u.setContext(n);try{s.focus()}catch(e){}},_hide:function(t){var e=this,i=this.options.modalDuration;t&&t.duration&&(i=t.duration),this.ui.frame.empty(),this.ui.modalBody.removeClass("cms-loader"),this.ui.modal.removeClass("cms-modal-open"),this.ui.modal.one("cmsTransitionEnd",function(){e.ui.modal.css("display","none")}).emulateTransitionEnd(i),setTimeout(function(){e.minimized&&e.minimize(),e.maximized&&e.maximize(),e.trigger("cms.modal.closed"),CMS.API.Toolbar.hideLoader(),a.dispatchEvent("modal-closed",{instance:e})},this.options.duration),this.ui.body.off("keydown.cms.close")},minimize:function(){var t=50;return this.maximized?!1:void(this.minimized===!1?(CMS.API.Toolbar.open(),this.ui.modal.data("css",this.ui.modal.css(["left","top","margin-left","margin-top"])),this.ui.body.addClass("cms-modal-minimized"),this.ui.modal.css({left:this.ui.toolbarLeftPart.outerWidth(!0)+t}),this.minimized=!0):(this.ui.body.removeClass("cms-modal-minimized"),this.ui.modal.css(this.ui.modal.data("css")),this.minimized=!1))},maximize:function(){return this.minimized?!1:void(this.maximized===!1?(this.ui.modal.data("css",this.ui.modal.css(["left","top","margin-left","margin-top","width","height"])),this.ui.body.addClass("cms-modal-maximized"),this.maximized=!0,this.dispatchEvent("modal-maximized",{instance:this})):(this.ui.body.removeClass("cms-modal-maximized"),this.ui.modal.css(this.ui.modal.data("css")),this.maximized=!1,this.dispatchEvent("modal-restored",{instance:this})))},_startMove:function(t){if(this.maximized||this.minimized)return!1;var e,i,n=this,s=this.ui.modal.position();this.ui.shim.show(),this.ui.body.on(this.pointerUp,function(t){n._stopMove(t)}),this.ui.body.on(this.pointerMove,function(o){e=s.left-(t.originalEvent.pageX-o.originalEvent.pageX),i=s.top-(t.originalEvent.pageY-o.originalEvent.pageY),n.ui.modal.css({left:e,top:i})}).attr("data-touch-action","none")},_stopMove:function(){this.ui.shim.hide(),this.ui.body.off(this.pointerMove+" "+this.pointerUp).removeAttr("data-touch-action")},_startResize:function(t){if(this.maximized)return!1;var e=this,i=this.ui.modal.width(),n=this.ui.modal.height(),s=this.ui.modal.position().left,o=this.ui.modal.position().top;this.ui.body.on(this.pointerUp,function(t){e._stopResize(t)}),this.ui.shim.show(),this.ui.body.on(this.pointerMove,function(r){var a=t.originalEvent.pageX-r.originalEvent.pageX,l=t.originalEvent.pageY-r.originalEvent.pageY,c=i-2*a,u=n-2*l,d=e.options.minWidth,h=e.options.minHeight,p=a+s,f=l+o;d>=c&&(c=d,p=s+i/2-c/2),h>=u&&(u=h,f=o+n/2-u/2),e.ui.modal.css({width:c,height:u,left:p,top:f})}).attr("data-touch-action","none")},_stopResize:function(){this.ui.shim.hide(),this.ui.body.off(this.pointerMove+" "+this.pointerUp).removeAttr("data-touch-action")},_setBreadcrumb:function(t){var e="",i='<a href="{1}" class="{2}"><span>{3}</span></a>';return!t||t.length<=1?!1:t[0].title?(this.ui.modal.addClass("cms-modal-has-breadcrumb"),o.each(t,function(n,s){var o=n>=t.length-1?"active":"";e+=i.replace("{1}",s.url).replace("{2}",o).replace("{3}",s.title)}),void this.ui.breadcrumb.html(e)):!1},_setButtons:function(t){var e,i,n=t.contents().find(".suit-columns").length>0,s=this,r=o('<div class="cms-modal-item-buttons"></div>'),a=o('<div class="cms-modal-buttons-inner"></div>'),l=o('<a href="#" class="cms-btn">'+CMS.config.lang.cancel+"</a>");e=n?t.contents().find(".save-box:eq(0)"):t.contents().find(".submit-row:eq(0)");var c=t.contents().find("form");c.on("submit",function(){s.hideFrame&&(s.ui.modal.find(".cms-modal-frame iframe").hide(),s.saved=!0)});var u=e.find("input, a, button");u.on("click",function(){o(this).hasClass("default")&&(s.hideFrame=!0)}),t.contents().find(".submit-row").hide(),u.length||(e=t.contents().find("body:not(.change-list) #content form:eq(0)"),u=e.find('input[type="submit"], button[type="submit"]'),u.addClass("deletelink").hide()),u.each(function(t,e){var i=o(e);if(i.attr("data-rel","_"+t),"hidden"===i.attr("type"))return!1;var n=i.attr("value")||i.text(),l="cms-btn";i.is("button")&&(n=i.text()),i.hasClass("default")&&(l="cms-btn cms-btn-action"),i.hasClass("deletelink")&&(l="cms-btn cms-btn-caution");var c=o('<a href="#" class="'+l+" "+i.attr("class")+'">'+n+"</a>");c.on(s.click+" "+s.touchEnd,function(t){if(t.preventDefault(),i.is("a")&&s._loadIframe({url:i.prop("href"),name:n}),(i.hasClass("default")||i.hasClass("deletelink"))&&(i.hasClass("default")?s.hideFrame=!0:(s.ui.modal.find(".cms-modal-frame iframe").hide(),s.saved=!0)),i.is("input")||i.is("button")){s.ui.modalBody.addClass("cms-loader");var e=i.closest("form");if(e.find('button, input[type="button"], input[type="submit"]').length>1)i[0].click();else{var o=document.createEvent("HTMLEvents");if(o.initEvent("submit",!1,!0),e[0].dispatchEvent(o))try{e[0].submit()}catch(r){}}}}),c.wrap(r),a.append(c.parent())}),l.on(s.click,function(t){t.preventDefault(),s._cancelHandler()}),l.wrap(r),a.append(l.parent()),a.find(".cms-btn-group").unwrap(),i=a.find(".cms-btn-group").clone(!0,!0),a.find(".cms-btn-group").remove(),a.append(i.wrapAll(r.clone().addClass("cms-modal-item-buttons-left")).parent()),this.ui.modalButtons.html(a)},_loadIframe:function(t){var e=this;t.url=this.makeURL(t.url),t.title=t.title||"",t.breadcrumbs=t.breadcrumbs||"",CMS.API.Toolbar.showLoader(),this.ui.modal.removeClass("cms-modal-markup"),this.ui.modal.addClass("cms-modal-iframe"),this._setBreadcrumb(t.breadcrumbs);var i=this.ui.frame,n=o('<iframe tabindex="0" src="'+t.url+'" class="" frameborder="0" />'),s=this.ui.titlePrefix,r=this.ui.titleSuffix;n.css("visibility","hidden"),s.text(t.title||""),r.text(""),i.find("iframe").css("visibility","hidden"),e.ui.modalBody.addClass("cms-loader"),n.on("load",function(){var i,c,u,h,p,f;try{u=n.contents(),h=u.find("body")}catch(m){return CMS.API.Messages.open({message:"<strong>"+CMS.config.lang.errorLoadingEditForm+"</strong>",error:!0,delay:0}),void e.close()}h.attr("tabindex","0"),n.on("focus",function(){h.focus()}),d._setupCtrlEnterSave(document),n[0].contentWindow&&n[0].contentWindow.document&&d._setupCtrlEnterSave(n[0].contentWindow.document),n[0].contentWindow&&n[0].contentWindow.CMS&&n[0].contentWindow.CMS.CKEditor&&o(n[0].contentWindow.document).ready(function(){setTimeout(function(){var t=n[0].contentWindow.CMS.CKEditor.editor;t&&t.on("loaded",function(t){d._setupCtrlEnterSave(o(t.editor.container.$).find("iframe")[0].contentWindow.document)})},100)});var g=Boolean(u.find('.messagelist :not(".error")').length);return g||(g=Boolean(u.find(".dashboard #content-main").length)&&!u.find(".messagelist .error").length),c=u.find(".messagelist"),i=c.find("li"),i.length&&CMS.API.Messages.open({message:i.eq(0).html()}),c.remove(),h.addClass("cms-admin cms-admin-modal"),e.ui.modalBody.removeClass("cms-loader"),CMS.API.Toolbar.hideLoader(),i.length&&e.enforceReload&&(e.ui.modalBody.addClass("cms-loader"),CMS.API.Toolbar.showLoader(),a.reloadBrowser()),i.length&&e.enforceClose?(e.close(),!1):(u.find(".viewsitelink").attr("target","_top"),e._setButtons(o(this)),(u.find(".errornote").length||u.find(".errorlist").length||e.saved&&!g)&&(e.saved=!1),e.saved&&g&&!u.find(".delete-confirmation").length?(e.ui.modalBody.addClass("cms-loader"),CMS.API.Toolbar.showLoader(),a.reloadBrowser(e.options.onClose?e.options.onClose:window.location.href,!1,!0)):(n.show(),p=u.find("#content h1:eq(0)"),void 0===t.title&&""===e.ui.titlePrefix.text()&&(f=u.find(".breadcrumbs").contents(),e.ui.titlePrefix.text(f.eq(f.length-1).text().replace("›","").trim())),""===s.text().trim()?s.text(p.text()):r.text(p.text()),p.remove(),n.css("visibility","visible"),n.data("ready",!0),h.on("keydown.cms",function(t){t.keyCode===l.ESC&&e.options.closeOnEsc&&(t.stopPropagation(),e._confirmDirtyEscCancel()&&e._cancelHandler())}),u.find(".object-tools").length&&u.find("#content").css("padding-top",38)),void e._attachContentPreservingHandlers(n))}),i.html(n)},_attachContentPreservingHandlers:function(t){var e=this;e.tracker=new c(t),a._getWindow().addEventListener("beforeunload",this._beforeUnloadHandler)},_beforeUnloadHandler:function(t){return this.tracker.isFormChanged()?(t.returnValue=CMS.config.lang.confirmDirty,t.returnValue):void 0},_confirmDirtyEscCancel:function(){return this.tracker&&this.tracker.isFormChanged()?a.secureConfirm(CMS.config.lang.confirmDirty+"\n\n"+CMS.config.lang.confirmDirtyESC):!0},_changeIframe:function(t){if(t.hasClass("active"))return!1;var e=t.parent().find("a");e.removeClass("active"),t.addClass("active"),this._loadIframe({url:t.attr("href")}),this.ui.titlePrefix.text(t.text())},_loadMarkup:function(t){this.ui.modal.removeClass("cms-modal-iframe"),this.ui.modal.addClass("cms-modal-markup"),this.ui.modalBody.removeClass("cms-loader"),this.ui.frame.empty().append(t.html),this.ui.titlePrefix.text(t.title||""),this.ui.titleSuffix.text(t.subtitle||"")},_cancelHandler:function(){this.options.onClose=null,this.close()}});d._setupCtrlEnterSave=function(t){var e=!1,i=navigator.platform.toLowerCase().indexOf("mac")+1;o(t).on("keydown.cms.submit",function(t){t.ctrlKey&&t.keyCode===l.ENTER&&!i&&o(".cms-modal-buttons .cms-btn-action:first").trigger("click"),i&&(t.keyCode!==l.CMD_LEFT&&t.keyCode!==l.CMD_RIGHT&&t.keyCode!==l.CMD_FIREFOX||(e=!0),t.keyCode===l.ENTER&&e&&o(".cms-modal-buttons .cms-btn-action:first").trigger("click"))}).on("keyup.cms.submit",function(t){i&&(t.keyCode!==l.CMD_LEFT&&t.keyCode!==l.CMD_RIGHT||(e=!1))})},t.exports=d},,function(t,e){Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},s=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),s.prototype=new n,s})},function(t,e,i){i(1);!function(e,i){t.exports=i()}(this,function(){"use strict";function t(){if(u){var t=new Map;return t.pointers=d,t}this.keys=[],this.values=[]}function e(t,e,i,n){this.addCallback=t.bind(n),this.removeCallback=e.bind(n),this.changedCallback=i.bind(n),x&&(this.observer=new x(this.mutationWatcher.bind(this)))}function i(t,e){e=e||Object.create(null);var i=document.createEvent("Event");i.initEvent(t,e.bubbles||!1,e.cancelable||!1);for(var n,s=2;s<E.length;s++)n=E[s],i[n]=e[n]||P[s];i.buttons=e.buttons||0;var o=0;return o=e.pressure?e.pressure:i.buttons?.5:0,i.x=i.clientX,i.y=i.clientY,i.pointerId=e.pointerId||0,i.width=e.width||0,i.height=e.height||0,i.pressure=o,i.tiltX=e.tiltX||0,i.tiltY=e.tiltY||0,i.pointerType=e.pointerType||"",i.hwTimestamp=e.hwTimestamp||0,i.isPrimary=e.isPrimary||!1,i}function n(t){return"body /shadow-deep/ "+s(t)}function s(t){return'[data-touch-action="'+t+'"]'}function o(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; touch-action-delay: none; }"}function r(){if(N){I.forEach(function(t){String(t)===t?(A+=s(t)+o(t)+"\n",D&&(A+=n(t)+o(t)+"\n")):(A+=t.selectors.map(s)+o(t.rule)+"\n",D&&(A+=t.selectors.map(n)+o(t.rule)+"\n"))});var t=document.createElement("style");t.textContent=A,document.head.appendChild(t)}}function a(){if(!window.PointerEvent){if(window.PointerEvent=M,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),v.registerSource("ms",nt)}else v.registerSource("mouse",W),void 0!==window.ontouchstart&&v.registerSource("touch",Z);v.register(document)}}function l(t){if(!v.pointermap.has(t))throw new Error("InvalidPointerId")}function c(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:J},releasePointerCapture:{value:Q}})}var u=window.Map&&window.Map.prototype.forEach,d=function(){return this.size};t.prototype={set:function(t,e){var i=this.keys.indexOf(t);i>-1?this.values[i]=e:(this.keys.push(t),this.values.push(e))},has:function(t){return this.keys.indexOf(t)>-1},"delete":function(t){var e=this.keys.indexOf(t);e>-1&&(this.keys.splice(e,1),this.values.splice(e,1))},get:function(t){var e=this.keys.indexOf(t);return this.values[e]},clear:function(){this.keys.length=0,this.values.length=0},forEach:function(t,e){this.values.forEach(function(i,n){t.call(e,i,this.keys[n],this)},this)},pointers:function(){return this.keys.length}};var h=t,p=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],f=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],m="undefined"!=typeof SVGElementInstance,g={pointermap:new h,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var i=e,n=i.events;n&&(n.forEach(function(t){i[t]&&(this.eventMap[t]=i[t].bind(i))},this),this.eventSources[t]=i,this.eventSourceList.push(i))},register:function(t){for(var e,i=this.eventSourceList.length,n=0;i>n&&(e=this.eventSourceList[n]);n++)e.register.call(e,t)},unregister:function(t){for(var e,i=this.eventSourceList.length,n=0;i>n&&(e=this.eventSourceList[n]);n++)e.unregister.call(e,t)},contains:function(t,e){return t.contains(e)},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,i=this.eventMap&&this.eventMap[e];i&&i(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=new PointerEvent(t,e);return e.preventDefault&&(i.preventDefault=e.preventDefault),i._target=i._target||e.target,i},fireEvent:function(t,e){var i=this.makeEvent(t,e);return this.dispatchEvent(i)},cloneEvent:function(t){for(var e,i=Object.create(null),n=0;n<p.length;n++)e=p[n],i[e]=t[e]||f[n],!m||"target"!==e&&"relatedTarget"!==e||i[e]instanceof SVGElementInstance&&(i[e]=i[e].correspondingUseElement);return t.preventDefault&&(i.preventDefault=function(){t.preventDefault()}),i},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,e){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=e;var i=document.createEvent("Event");i.initEvent("gotpointercapture",!0,!1),i.pointerId=t,this.implicitRelease=this.releaseCapture.bind(this,t),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),i._target=e,this.asyncDispatchEvent(i)},releaseCapture:function(t){var e=this.captureInfo[t];if(e){var i=document.createEvent("Event");i.initEvent("lostpointercapture",!0,!1),i.pointerId=t,this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),i._target=e,this.asyncDispatchEvent(i)}},dispatchEvent:function(t){var e=this.getTarget(t);return e?e.dispatchEvent(t):void 0},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};g.boundHandler=g.eventHandler.bind(g);var v=g,b={shadow:function(t){return t?t.shadowRoot||t.webkitShadowRoot:void 0},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);return this.canTarget(e)?e:void 0},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var i=t.querySelector("shadow");i&&(e=i.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],i=this.shadow(t);i;)e.push(i),i=this.olderShadow(i);return e},searchRoot:function(t,e,i){if(t){var n,s,o=t.elementFromPoint(e,i);for(s=this.targetingShadow(o);s;){if(n=s.elementFromPoint(e,i)){var r=this.targetingShadow(n);return this.searchRoot(r,e,i)||n}s=this.olderShadow(s)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!=Node.DOCUMENT_NODE&&e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,i=t.clientY,n=this.owner(t.target);return n.elementFromPoint(e,i)||(n=document),this.searchRoot(n,e,i)}},y=Array.prototype.forEach.call.bind(Array.prototype.forEach),C=Array.prototype.map.call.bind(Array.prototype.map),w=Array.prototype.slice.call.bind(Array.prototype.slice),_=Array.prototype.filter.call.bind(Array.prototype.filter),x=window.MutationObserver||window.WebKitMutationObserver,T="[data-touch-action]",S={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["data-touch-action"]};e.prototype={watchSubtree:function(t){b.canTarget(t)&&this.observer.observe(t,S)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){y(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll(T):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(w(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=C(t,this.findElements,this);return e.push(_(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var i=this.flattenMutationTree(t.removedNodes);i.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}},x||(e.prototype.watchSubtree=function(){});var k=e,E=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],P=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],M=i,I=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],A="",N=(document.head,window.PointerEvent||window.MSPointerEvent),D=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,L=v.pointermap,O=25,H=[0,1,4,2],j=!1;try{j=1===new MouseEvent("test",{
buttons:1}).buttons}catch(R){}var B,z={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){v.listen(t,this.events)},unregister:function(t){v.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,i=this.lastTouches,n=t.clientX,s=t.clientY,o=0,r=i.length;r>o&&(e=i[o]);o++){var a=Math.abs(n-e.x),l=Math.abs(s-e.y);if(O>=a&&O>=l)return!0}},prepareEvent:function(t){var e=v.cloneEvent(t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,j||(e.buttons=H[e.which]||0),e},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=L.has(this.POINTER_ID);e&&this.cancel(t);var i=this.prepareEvent(t);L.set(this.POINTER_ID,t),v.down(i)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);v.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=L.get(this.POINTER_ID);if(e&&e.button===t.button){var i=this.prepareEvent(t);v.up(i),this.cleanupMouse()}}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);v.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);v.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);v.cancel(e),this.cleanupMouse()},cleanupMouse:function(){L["delete"](this.POINTER_ID)}},W=z,K=v.captureInfo,F=b.findTarget.bind(b),q=b.allShadows.bind(b),U=v.pointermap,X=(Array.prototype.map.call.bind(Array.prototype.map),2500),Y=200,$="data-touch-action",V=!1,G={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){V?v.listen(t,this.events):B.enableOnSubtree(t)},unregister:function(t){V&&v.unlisten(t,this.events)},elementAdded:function(t){var e=t.getAttribute($),i=this.touchActionToScrollType(e);i&&(t._scrollType=i,v.listen(t,this.events),q(t).forEach(function(t){t._scrollType=i,v.listen(t,this.events)},this))},elementRemoved:function(t){t._scrollType=void 0,v.unlisten(t,this.events),q(t).forEach(function(t){t._scrollType=void 0,v.unlisten(t,this.events)},this)},elementChanged:function(t,e){var i=t.getAttribute($),n=this.touchActionToScrollType(i),s=this.touchActionToScrollType(e);n&&s?(t._scrollType=n,q(t).forEach(function(t){t._scrollType=n},this)):s?this.elementRemoved(t):n&&this.elementAdded(t)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e=t,i=this.scrollTypes;return"none"===e?"none":e===i.XSCROLLER?"X":e===i.YSCROLLER?"Y":i.SCROLLER.exec(e)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===U.pointers()||1===U.pointers()&&U.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,Y)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,i=v.cloneEvent(t),n=i.pointerId=t.identifier+2;i.target=K[n]||F(i),i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount,i.button=0,i.buttons=this.typeToButtons(e.type),i.width=t.webkitRadiusX||t.radiusX||0,i.height=t.webkitRadiusY||t.radiusY||0,i.pressure=t.webkitForce||t.force||.5,i.isPrimary=this.isPrimaryTouch(t),i.pointerType=this.POINTER_TYPE;var s=this;return i.preventDefault=function(){s.scrolling=!1,s.firstXY=null,e.preventDefault()},i},processTouches:function(t,e){var i=t.changedTouches;this.currentTouchEvent=t;for(var n,s=0;s<i.length;s++)n=i[s],e.call(this,this.touchToPointer(n))},shouldScroll:function(t){if(this.firstXY){var e,i=t.currentTarget._scrollType;if("none"===i)e=!1;else if("XY"===i)e=!0;else{var n=t.changedTouches[0],s=i,o="Y"===i?"X":"Y",r=Math.abs(n["client"+s]-this.firstXY[s]),a=Math.abs(n["client"+o]-this.firstXY[o]);e=r>=a}return this.firstXY=null,e}},findTouch:function(t,e){for(var i,n=0,s=t.length;s>n&&(i=t[n]);n++)if(i.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(U.pointers()>=e.length){var i=[];U.forEach(function(t,n){if(1!==n&&!this.findTouch(e,n-2)){var s=t.out;i.push(s)}},this),i.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){U.set(t.pointerId,{target:t.target,out:t,outTarget:t.target});v.over(t),v.enter(t),v.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,i=U.get(e.pointerId);if(i){var n=i.out,s=i.outTarget;v.move(e),n&&s!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=s,n.target=s,e.target?(v.leaveOut(n),v.enterOver(e)):(e.target=s,e.relatedTarget=null,this.cancelOut(e))),i.out=e,i.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(v.up(t),v.out(t),v.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){v.cancel(t),v.out(t),v.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){U["delete"](t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=W.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch(i)){var n={x:i.clientX,y:i.clientY};e.push(n);var s=function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}.bind(null,e,n);setTimeout(s,X)}}};V||(B=new k(G.elementAdded,G.elementRemoved,G.elementChanged,G));var J,Q,Z=G,tt=v.pointermap,et=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,it={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){v.listen(t,this.events)},unregister:function(t){v.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return et&&(e=v.cloneEvent(t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){tt["delete"](t)},MSPointerDown:function(t){tt.set(t.pointerId,t);var e=this.prepareEvent(t);v.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);v.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);v.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);v.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);v.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);v.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=v.makeEvent("lostpointercapture",t);v.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=v.makeEvent("gotpointercapture",t);v.dispatchEvent(e)}},nt=it,st=window.navigator;st.msPointerEnabled?(J=function(t){l(t),this.msSetPointerCapture(t)},Q=function(t){l(t),this.msReleasePointerCapture(t)}):(J=function(t){l(t),v.setCapture(t,this)},Q=function(t){l(t),v.releaseCapture(t,this)}),r(),a(),c();var ot={dispatcher:v,Installer:k,PointerEvent:M,PointerMap:h,targetFinding:b};return ot})},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){function i(t){this.sourceStr=t,this.subCombos=i.parseComboStr(t),this.keyNames=this.subCombos.reduce(function(t,e){return t.concat(e)})}i.sequenceDeliminator=">>",i.comboDeliminator=">",i.keyDeliminator="+",i.parseComboStr=function(t){for(var e=i._splitStr(t,i.comboDeliminator),n=[],s=0;s<e.length;s+=1)n.push(i._splitStr(e[s],i.keyDeliminator));return n},i.prototype.check=function(t){for(var e=0,i=0;i<this.subCombos.length;i+=1)if(e=this._checkSubCombo(this.subCombos[i],e,t),-1===e)return!1;return!0},i.prototype.isEqual=function(t){if(!t||"string"!=typeof t&&"object"!=typeof t)return!1;if("string"==typeof t&&(t=new i(t)),this.subCombos.length!==t.subCombos.length)return!1;for(var e=0;e<this.subCombos.length;e+=1)if(this.subCombos[e].length!==t.subCombos[e].length)return!1;for(var e=0;e<this.subCombos.length;e+=1){for(var n=this.subCombos[e],s=t.subCombos[e].slice(0),o=0;o<n.length;o+=1){var r=n[o],a=s.indexOf(r);a>-1&&s.splice(a,1)}if(0!==s.length)return!1}return!0},i._splitStr=function(t,e){for(var i=t,n=e,s="",o=[],r=0;r<i.length;r+=1)r>0&&i[r]===n&&"\\"!==i[r-1]&&(o.push(s.trim()),s="",r+=1),s+=i[r];return s&&o.push(s.trim()),o},i.prototype._checkSubCombo=function(t,e,n){t=t.slice(0),n=n.slice(e);for(var s=e,o=0;o<t.length;o+=1){var r=t[o];if("\\"===r[0]){var a=r.slice(1);a!==i.comboDeliminator&&a!==i.keyDeliminator||(r=a)}var l=n.indexOf(r);if(l>-1&&(t.splice(o,1),o-=1,l>s&&(s=l),0===t.length))return s}return-1},t.exports=i},function(t,e,i){(function(t){function i(t,e){for(var i=0,n=t.length-1;n>=0;n--){var s=t[n];"."===s?t.splice(n,1):".."===s?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return s.exec(t).slice(1)};e.resolve=function(){for(var e="",s=!1,o=arguments.length-1;o>=-1&&!s;o--){var r=o>=0?arguments[o]:t.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,s="/"===r.charAt(0))}return e=i(n(e.split("/"),function(t){return!!t}),!s).join("/"),(s?"/":"")+e||"."},e.normalize=function(t){var s=e.isAbsolute(t),o="/"===r(t,-1);return t=i(n(t.split("/"),function(t){return!!t}),!s).join("/"),t||s||(t="."),t&&o&&(t+="/"),(s?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,i){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var s=n(t.split("/")),o=n(i.split("/")),r=Math.min(s.length,o.length),a=r,l=0;r>l;l++)if(s[l]!==o[l]){a=l;break}for(var c=[],l=a;l<s.length;l++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},e.basename=function(t,e){var i=o(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){return o(t)[3]};var r="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return 0>e&&(e=t.length+e),t.substr(e,i)}}).call(e,i(51))},,function(t,e,i){var n=i(1),s=i(3),o=i(37),r=new s({initialize:function(t){var e=this;e.state={fields:new o,formChanged:!1},e._setupUI(t),e._setupEvents()},_setupUI:function(t){this.ui={iframe:t}},_setupEvents:function(){this.ui.iframe.contents().find(".change-form form").find("input, textarea, select").on("change.cms.tracker keydown.cms.tracker",this._trackChange.bind(this))},_trackChange:function(t){var e=this;if(e.state.fields.has(t.target)){var i=e.state.fields.get(t.target),s=e._getValue(t.target);i.originalValue===s&&(e.state.formChanged=!1),e.state.fields.set(t.target,n.extend(i,{editedValue:s}))}else{var o=e._getOriginalValue(t.target),r=e._getValue(t.target);e.state.fields.set(t.target,{originalValue:o,editedValue:r}),o!==r&&(e.state.formChanged=!0)}},_getValue:function(t){var e=n(t);return e.is(":checkbox")||e.is(":radio")?t.checked:e.is("select")?e.val():t.value},_getOriginalValue:function(t){var e=n(t);if(e.is(":checkbox")||e.is(":radio"))return t.defaultChecked;if(e.is("select")){var i,s=e.find("option");return e.is("[multiple]")?(i=[],s.each(function(){this.defaultSelected&&i.push(n(this).val())})):s.each(function(){this.defaultSelected&&(i=n(this).val())}),i}return t.defaultValue},isFormChanged:function(){return this.state.formChanged||this._isEditorChanged()},_isEditorChanged:function(){var t=this.ui.iframe[0].contentWindow,e=!1;return t&&t.CKEDITOR&&t.CKEDITOR.instances&&(e=Object.keys(t.CKEDITOR.instances).some(function(e){return t.CKEDITOR.instances[e].checkDirty()})),e}});t.exports=r},function(t,e,i){var n=i(1),s=i(3),o=i(2).API.Helpers,r=new s({initialize:function(){this._setupUI(),this._getWidths(),this.rightMostItemIndex=this.items.left.length-1,this.leftMostItemIndex=0,this.resize="resize.cms.navigation",this.load="load.cms.navigation",this.orientationChange="orientationchange.cms.navigation",this._events()},_setupUI:function(){var t=n(".cms"),e=t.find(".cms-toolbar-more");this.ui={window:n(window),toolbarLeftPart:t.find(".cms-toolbar-left"),toolbarRightPart:t.find(".cms-toolbar-right"),trigger:e,dropdown:e.find("> ul"),toolbarTrigger:t.find(".cms-toolbar-trigger"),logo:t.find(".cms-toolbar-item-logo")}},_events:function(){var t=50;this.ui.window.on([this.resize,this.load,this.orientationChange].join(" "),o.throttle(this._handleResize.bind(this),t))},_getWidths:function(){var t=this;t.items={left:[],leftTotalWidth:0,right:[],rightTotalWidth:0,moreButtonWidth:0};var e=t.ui.toolbarLeftPart.find(".cms-toolbar-item-navigation > li:not(.cms-toolbar-more)"),i=t.ui.toolbarRightPart.find("> .cms-toolbar-item"),s=function(t,e){var i=n(t),s=n(t).outerWidth(!0);e.push({element:i,width:s})},o=function(t,e){return t+e.width};e.each(function(){s(this,t.items.left)}),i.each(function(){s(this,t.items.right)}),t.items.leftTotalWidth=t.items.left.reduce(o,0),t.items.rightTotalWidth=t.items.right.reduce(o,0),t.items.moreButtonWidth=t.ui.trigger.outerWidth()},_calculateAvailableWidth:function(){var t=this.ui.window.width(),e=parseInt(this.ui.toolbarRightPart.css("padding-right"),10)+this.ui.logo.outerWidth(!0);return t-e},_showDropdown:function(){this.ui.trigger.css("display","list-item")},_hideDropdown:function(){this.ui.trigger.css("display","none")},_handleResize:function(){var t,e=this._calculateAvailableWidth();if(e>this.items.leftTotalWidth+this.items.rightTotalWidth)this._showAll();else{t=e-this.items.moreButtonWidth-this.items.rightTotalWidth;for(var i=-1;t-this.items.left[i+1].width>=0;)t-=this.items.left[i+1].width,i++;if(i<this.rightMostItemIndex?this._moveToDropdown(this.rightMostItemIndex-i):this.rightMostItemIndex<i&&this._moveOutOfDropdown(i-this.rightMostItemIndex),this._showDropdown(),0>t&&-1===this.rightMostItemIndex){t+=this.items.rightTotalWidth;var n=this.items.right.length;this._moveToDropdown(n-this.leftMostItemIndex,"right"),this.ui.dropdown.addClass("cms-more-dropdown-full")}else this._showAllRight(),this.ui.dropdown.removeClass("cms-more-dropdown-full")}},_showAll:function(){this._showAllLeft(),this._showAllRight(),this._hideDropdown()},_showAllLeft:function(){this._moveOutOfDropdown(this.items.left.length-1-this.rightMostItemIndex)},_showAllRight:function(){this._moveOutOfDropdown(this.leftMostItemIndex,"right")},_moveToDropdown:function(t,e){if(!(0>=t)){var i,n,s,o;if("right"===e){for(n=this.leftMostItemIndex,s=this.leftMostItemIndex+t-1,o=n;s>=o;o++)i=this.items.right[o].element,this.ui.dropdown.prepend(i.wrap('<li class="cms-more-buttons"></li>').parent());this.leftMostItemIndex+=t}else{for(s=this.rightMostItemIndex,n=this.rightMostItemIndex-t+1,o=s;o>=n;o--)i=this.items.left[o].element,this.ui.dropdown.prepend(i),i.find("> ul").children().length&&i.addClass("cms-toolbar-item-navigation-children");this.rightMostItemIndex-=t}}},_moveOutOfDropdown:function(t,e){if(!(0>=t)){var i,n,s,o;if("right"===e){for(o=this.leftMostItemIndex-1,s=this.leftMostItemIndex-t,i=o;i>=s;i--)n=this.items.right[i].element,n.unwrap("<li></li>"),n.prependTo(this.ui.toolbarRightPart);this.leftMostItemIndex-=t}else{for(s=this.rightMostItemIndex+1,o=this.rightMostItemIndex+t,i=s;o>=i;i++)n=this.items.left[i].element,n.insertBefore(this.ui.trigger),n.removeClass("cms-toolbar-item-navigation-children"),n.find("> ul").removeAttr("style");this.rightMostItemIndex+=t}}}});t.exports=r},function(t,e,i){var n=i(1),s=i(3),o=i(2).API.Helpers,r=i(2).KEYS,a=i(5),l=i(31),c=i(40).filter;i(17);var u,d,h,p=new s({implement:[o],options:{type:"",placeholder_id:null,plugin_type:"",plugin_id:null,plugin_language:"",plugin_parent:null,plugin_order:null,plugin_restriction:[],plugin_parent_restriction:[],urls:{add_plugin:"",edit_plugin:"",move_plugin:"",copy_plugin:"",delete_plugin:""}},initialize:function(t,e){if(this.options=n.extend(!0,{},this.options,e),this._setupUI(t),this.csrf=CMS.config.csrf,this.click="click.cms.plugin",this.pointerUp="pointerup.cms.plugin",this.pointerDown="pointerdown.cms.plugin",this.pointerOverAndOut="pointerover.cms.plugin pointerout.cms.plugin",this.doubleClick="dblclick.cms.plugin",this.keyUp="keyup.cms.plugin",this.keyDown="keydown.cms.plugin",this.mouseEvents="mousedown.cms.plugin mousemove.cms.plugin mouseup.cms.plugin",this.touchStart="touchstart.cms.plugin",this.touchEnd="touchend.cms.plugin",this.ui.container.data("cms")||this.ui.container.data("cms",[]),!p.aliasPluginDuplicatesMap[this.options.plugin_id]&&!p.staticPlaceholderDuplicatesMap[this.options.placeholder_id])switch(p._initializeDragItemsStates(),this.options.type){case"placeholder":p.staticPlaceholderDuplicatesMap[this.options.placeholder_id]=!0,this.ui.container.data("cms",this.options),this._setPlaceholder(),this._collapsables();break;case"plugin":this.ui.container.data("cms").push(this.options),p.aliasPluginDuplicatesMap[this.options.plugin_id]=!0,this._setPlugin(),this._collapsables();break;default:this.ui.container.data("cms").push(this.options),this._setGeneric()}},_setupUI:function(t){var e,i=n("."+t);if(i.length>1&&t.match(/cms-plugin/)){var s=n(".cms-plugin-start."+t),o=s.attr("class").replace("cms-plugin-start","");e=n(l(s[0],t)),i.filter("template").remove(),e.each(function(t,i){if(i.nodeType===Node.TEXT_NODE&&!i.textContent.match(/^\s*$/)){var s=n(i);s.wrap('<cms-plugin class="cms-plugin-text-node"></cms-plugin>'),e[t]=s.parent()[0]}}),e=e.filter(function(){return this.nodeType!==Node.TEXT_NODE&&this.nodeType!==Node.COMMENT_NODE}),e.addClass("cms-plugin "+o)}else e=i;e.length||(e=n("<div></div>")),this.ui={container:e,publish:n(".cms-btn-publish"),save:n(".cms-toolbar-item-switch-save-edit"),window:n(window),revert:n(".cms-toolbar-revert"),dragbar:null,draggable:null,draggables:null,submenu:null,dropdown:null}},_setPlaceholder:function(){var t=this;this.ui.dragbar=n(".cms-dragbar-"+this.options.placeholder_id),this.ui.draggables=this.ui.dragbar.closest(".cms-dragarea").find("> .cms-draggables"),this.ui.submenu=this.ui.dragbar.find(".cms-submenu-settings");var e=this.ui.dragbar.find(".cms-dragbar-title"),i=this.ui.dragbar.find(".cms-dragbar-toggler a"),s="cms-dragbar-title-expanded";this._setSettingsMenu(this.ui.submenu),this._setAddPluginModal(this.ui.dragbar.find(".cms-submenu-add")),CMS.settings.dragbars=CMS.settings.dragbars||[],i.off(this.click).on(this.click,function(i){i.preventDefault(),e.hasClass(s)?t._collapseAll(e):t._expandAll(e)}),-1!==n.inArray(this.options.placeholder_id,CMS.settings.dragbars)&&e.addClass(s),this._checkIfPasteAllowed()},_setPlugin:function(){var t=this;this.ui.draggable=n(".cms-draggable-"+this.options.plugin_id),this.ui.dragitem=this.ui.draggable.find("> .cms-dragitem"),this.ui.draggables=this.ui.draggable.find("> .cms-draggables"),this.ui.submenu=this.ui.dragitem.find(".cms-submenu"),this.ui.draggable.data("cms",this.options);var e=function(e){e.preventDefault(),e.stopPropagation(),t.editPlugin(t.options.urls.edit_plugin,t.options.plugin_name,t._getPluginBreadcrumbs())};this.ui.dragitem.on(this.doubleClick,e),p._isContainingMultiplePlugins(this.ui.container)||(u.on(this.doubleClick,".cms-plugin-"+this.options.plugin_id,e),u.on(this.pointerOverAndOut+" "+this.touchStart,".cms-plugin-"+this.options.plugin_id,function(e){e.stopPropagation(),"touchstart"===e.type&&CMS.API.Tooltip._forceTouchOnce();var i=t.options.plugin_name,s=t.options.plugin_id,o=t._getId(t.ui.dragitem.closest(".cms-dragarea")),r=n(".cms-placeholder-"+o);r.length&&r.data("cms")&&(i=r.data("cms").name+": "+i),CMS.API.Tooltip.displayToggle("pointerover"===e.type||"touchstart"===e.type,e,i,s)})),this.ui.draggable.on("cms-plugins-update",function(e,i){e.stopPropagation(),t.movePlugin(null,i)}),this.ui.draggable.on("cms-paste-plugin-update",function(e,i){e.stopPropagation();var s=n(e.delegateTarget),o=n(".cms-draggable-"+i.id),r=t._getId(o.closest(".cms-dragarea"));if(!r)return!1;var a=s.data("cms");a.target=r,a.parent=t._getId(o.parent().closest(".cms-draggable")),a.move_a_copy=!0,t.movePlugin(a)}),this._setSettingsMenu(this.ui.submenu),this._setAddPluginModal(this.ui.dragitem.find(".cms-submenu-add")),this._checkIfPasteAllowed()},_setGeneric:function(){var t=this;this.ui.container.on(this.doubleClick,function(e){e.preventDefault(),e.stopPropagation(),t.editPlugin(t.options.urls.edit_plugin,t.options.plugin_name,[])}),this.ui.container.on(this.pointerOverAndOut+" "+this.touchStart,function(e){"touchstart"!==e.type&&e.stopPropagation();var i=t.options.plugin_name,n=t.options.plugin_id;CMS.API.Tooltip.displayToggle("pointerover"===e.type||"touchstart"===e.type,e,i,n)})},_checkIfPasteAllowed:function(){var t=this.ui.dropdown.find("[data-rel=paste]"),e=t.parent();if(!h.length)return e.addClass("cms-submenu-item-disabled"),e.find("a").attr("tabindex","-1"),e.find(".cms-submenu-item-paste-tooltip-empty").css("display","block"),!1;if(this.ui.draggable&&this.ui.draggable.hasClass("cms-draggable-disabled"))return e.addClass("cms-submenu-item-disabled"),e.find("a").attr("tabindex","-1"),e.find(".cms-submenu-item-paste-tooltip-disabled").css("display","block"),!1;var i=this.options.plugin_restriction;if(!h.data("cms"))return!1;var s=h.data("cms"),o=s.plugin_type,r=n.grep(s.plugin_parent_restriction,function(t){return"0"!==t}),a=this.options.plugin_type;return i.length&&-1===n.inArray(o,i)||r.length&&-1===n.inArray(a,r)?(e.addClass("cms-submenu-item-disabled"),e.find("a").attr("tabindex","-1"),e.find(".cms-submenu-item-paste-tooltip-restricted").css("display","block"),!1):(e.find("a").removeAttr("tabindex"),!0)},addPlugin:function(t,e,i){var s={placeholder_id:this.options.placeholder_id,plugin_type:t,plugin_language:this.options.plugin_language};i&&(s.plugin_parent=i);var o=this.options.urls.add_plugin+"?"+n.param(s),r=new a({onClose:this.options.onClose||!1,redirectOnClose:this.options.redirectOnClose||!1});r.open({url:o,title:e}),r.on("cms.modal.closed",function(){n(".cms-add-plugin-placeholder").remove()})},editPlugin:function(t,e,i){var s=new a({onClose:this.options.onClose||!1,redirectOnClose:this.options.redirectOnClose||!1});s.on("cms.modal.loaded",function(){n(".cms-add-plugin-placeholder").remove()}),s.on("cms.modal.closed",function(){n(".cms-add-plugin-placeholder").remove()}),s.open({url:t,title:e,breadcrumbs:i,width:850})},copyPlugin:function(t,e){if(CMS.API.locked)return!1;CMS.API.locked=!0;var i=!(!t&&!e),s=t||this.options,r=e;r?(s.target=s.placeholder_id,s.plugin_id="",s.parent=""):r=s.plugin_language;var a={source_placeholder_id:s.placeholder_id,source_plugin_id:s.plugin_id||"",source_language:r,target_plugin_id:s.parent||"",target_placeholder_id:s.target||CMS.config.clipboard.id,target_language:s.page_language||r,csrfmiddlewaretoken:this.csrf},l={type:"POST",url:s.urls.copy_plugin,data:a,success:function(){CMS.API.Messages.open({message:CMS.config.lang.success}),o.reloadBrowser()},error:function(t){CMS.API.locked=!1;var e=CMS.config.lang.error;CMS.API.Messages.open({message:e+t.responseText||t.status+" "+t.statusText,error:!0})}};i?n.ajax(l):CMS.API.Clipboard.clear(function(){n.ajax(l)})},cutPlugin:function(){if(CMS.API.locked)return!1;CMS.API.locked=!0;var t=this,e={placeholder_id:CMS.config.clipboard.id,plugin_id:this.options.plugin_id,plugin_parent:"",plugin_language:this.options.page_language,plugin_order:[this.options.plugin_id],csrfmiddlewaretoken:this.csrf};CMS.API.Clipboard.clear(function(){return CMS.API.locked?!1:(CMS.API.locked=!0,void n.ajax({type:"POST",url:t.options.urls.move_plugin,data:e,success:function(){CMS.API.Messages.open({message:CMS.config.lang.success}),CMS.API.Helpers.reloadBrowser()},error:function(t){CMS.API.locked=!1;var e=CMS.config.lang.error;CMS.API.Messages.open({message:e+t.responseText||t.status+" "+t.statusText,error:!0})}}))})},pastePlugin:function(){var t=this._getId(h),e={id:t};h.appendTo(this.ui.draggables),this.ui.draggables.trigger("cms-structure-update",[e]),h.trigger("cms-paste-plugin-update",[e])},movePlugin:function(t,e){if(CMS.API.locked)return!1;CMS.API.locked=!0;var i=this,s=t||this.options,r=n(".cms-plugin-"+s.plugin_id),a=n(".cms-draggable-"+s.plugin_id),l="undefined"==typeof e?void 0:e.previousParentPluginId,c=this._setPosition(s.plugin_id,r,a,l),u=this._getId(a.parents(".cms-draggables").last().prevAll(".cms-dragbar").first()),d=this._getId(a.parent().closest(".cms-draggable")),h=this._getIds(a.siblings(".cms-draggable").andSelf());if(s.move_a_copy&&(h=h.map(function(t){var e=t;return e===s.plugin_id&&(e="__COPY__"),e})),u===!1)return!1;var f={placeholder_id:u,plugin_id:s.plugin_id,plugin_parent:d||"",plugin_language:s.page_language,plugin_order:h,csrfmiddlewaretoken:this.csrf,move_a_copy:s.move_a_copy};CMS.API.Toolbar.showLoader(),n.ajax({type:"POST",url:s.urls.move_plugin,data:f,success:function(t){(t.reload||c)&&o.reloadBrowser(),t.urls&&i._setSettings(s,{urls:t.urls}),CMS.API.locked=!1,CMS.API.Toolbar.hideLoader(),p._highlightPluginStructure(a),p._updateRegistry({pluginId:s.plugin_id,update:{plugin_parent:d||"",placeholder_id:u}}),i._setSettings(i.options,{plugin_parent:d||"",placeholder_id:u})},error:function(t){CMS.API.locked=!1;var e=CMS.config.lang.error;CMS.API.Messages.open({message:e+t.responseText||t.status+" "+t.statusText,error:!0}),CMS.API.Toolbar.hideLoader()}}),this.ui.publish.addClass("cms-btn-publish-active").removeClass("cms-btn-disabled").parent().show(),this.ui.window.trigger("resize"),this.ui.revert.removeClass("cms-toolbar-item-navigation-disabled")},_setSettings:function(t,e){var i=n.extend(!0,{},t,e),s=n(".cms-plugin-"+i.plugin_id),o=n(".cms-draggable-"+i.plugin_id);if(this.options=i,s.length){var r=s.data("cms").findIndex(function(t){return t.plugin_id===i.plugin_id});s.each(function(){n(this).data("cms")[r]=i})}o.length&&o.data("cms",i)},deletePlugin:function(t,e,i){var s=new a({onClose:this.options.onClose||!1,redirectOnClose:this.options.redirectOnClose||!1});s.on("cms.modal.loaded",function(){n(".cms-add-plugin-placeholder").remove()}),s.open({url:t,title:e,breadcrumbs:i})},_setPosition:function(t,e,i,s){var o=i.prev(".cms-draggable"),r=i.next(".cms-draggable"),a=i.parent().closest(".cms-draggable"),l=n(".cms-plugin-"+this._getId(a)),c=i.closest(".cms-dragarea"),u=this._getId(i);if(e.length)if(this._removeOldParentsData({plugin:e,pluginId:u,previousParentPluginId:s}),o.length){var d=this._getId(o),h=n(".cms-plugin-"+d+":last");if(h.length)return e.insertAfter(h),this._addNewParentsData({sibling:h,siblingId:d,plugin:e}),!1}else if(r.length){var p=this._getId(r),f=n(".cms-plugin-"+p+":first");if(f.length)return e.insertBefore(f),this._addNewParentsData({sibling:f,siblingId:p,plugin:e}),!1}else{if(a.length&&l.length){for(;l.children().length;)l=l.children();return l.append(e),!1}if(!a.length&&c.length)return e.insertAfter(n(".cms-placeholder-"+this._getId(c))),!1}return!0},_addNewParentsData:function(t){if(p._isContainingMultiplePlugins(t.sibling)){var e=t.plugin,i=t.sibling.data("cms").slice(0),s=i.findIndex(function(e){return e.plugin_id===t.siblingId}),o=i.slice(s+1);o.forEach(function(t){e.each(function(){n(this).addClass("cms-plugin-"+t.plugin_id).data("cms").push(t)})})}},_removeOldParentsData:function(t){var e=t.plugin,i=t.pluginId,s=t.previousParentPluginId;if(p._isContainingMultiplePlugins(e)){var o=e.data("cms").slice(0),r=o.findIndex(function(t){return t.plugin_id===s}),a=o.findIndex(function(t){return t.plugin_id===i}),l=o.slice(i,r+1),c=o.slice(0,a).concat(o.slice(r));e.each(function(){n(this).data("cms",l)}),c.forEach(function(t){e.removeClass("cms-plugin-"+t.plugin_id)})}},editPluginPostAjax:function(t,e){this.editPlugin(e.url,this.options.plugin_name,e.breadcrumb)},_setSettingsMenu:function(t){var e=this;this.ui.dropdown=t.siblings(".cms-submenu-dropdown-settings");var i=this.ui.dropdown;t.on(this.pointerUp,function(t){t.preventDefault(),t.stopPropagation();var i=n(this);i.hasClass("cms-btn-active")?p._hideSettingsMenu(i):(p._hideSettingsMenu(),e._showSettingsMenu(i))}).on(this.touchStart,function(t){t.stopPropagation()}),i.on(this.mouseEvents,function(t){t.stopPropagation()}).on(this.touchStart,function(t){t.stopPropagation()}),e._setupActions(t),t.on([this.pointerUp,this.pointerDown,this.click,this.doubleClick].join(" "),function(t){t.stopPropagation()}),t.siblings(".cms-quicksearch, .cms-submenu-dropdown-settings").on([this.pointerUp,this.click,this.doubleClick].join(" "),function(t){t.stopPropagation()})},_scrollToElement:function(t,e){var i=200,s=50,o=e&&void 0!==e.duration?e.duration:i,r=e&&void 0!==e.offset?e.offset:s,a=t.offsetParent(),l=n(window),c=l.height(),u=a.scrollTop(),d=t.position().top,h=t.height(),p=c>=d+h+r;p||a.animate({scrollTop:d+r+h+u-c},o)},_setAddPluginModal:function(t){if(t.hasClass("cms-btn-disabled"))return!1;var e,i,s,r=this,l=o.once(function(){var o,l=n('<div class="cms-add-plugin-placeholder">'+CMS.config.lang.addPluginPlaceholder+"</div>"),c=t.closest(".cms-dragitem"),u=!c.length;e=new a({minWidth:400,minHeight:400}),o=u?t.closest(".cms-dragarea").find("> .cms-draggables"):t.closest(".cms-draggable").find("> .cms-draggables"),e.on("cms.modal.loaded",n.proxy(r._setupKeyboardTraversing,r)),e.on("cms.modal.loaded",function(){o.hasClass("cms-hidden")&&!u&&r._toggleCollapsable(c),n(".cms-add-plugin-placeholder").remove(),l.appendTo(o),r._scrollToElement(l)}),e.on("cms.modal.closed",function(){n(".cms-add-plugin-placeholder").remove()}),e.on("cms.modal.shown",function(){var t=n(".cms-modal-markup .cms-plugin-picker");i||t.find("input").trigger("focus"),i=!1}),s=t.siblings(".cms-plugin-picker"),r._setupQuickSearch(s)});t.on(this.touchStart,function(t){i=!0,t.stopPropagation()}).on(this.pointerUp,function(i){i.preventDefault(),i.stopPropagation(),p._hideSettingsMenu(),l();var n=s.clone(!0,!0).data("parentId",r._getId(t.closest(".cms-draggable"))).append(r._getPossibleChildClasses());e.open({title:r.options.addPluginHelpTitle,html:n,width:530,height:400})}),t.on([this.pointerUp,this.pointerDown,this.click,this.doubleClick].join(" "),function(t){t.stopPropagation()}),t.siblings(".cms-quicksearch, .cms-submenu-dropdown").on([this.pointerUp,this.click,this.doubleClick].join(" "),function(t){t.stopPropagation()})},_getPossibleChildClasses:function(){var t=this,e=this.options.plugin_restriction,i=t._getId(t.ui.submenu.closest(".cms-dragarea")),s=n(n("#cms-plugin-child-classes-"+i).html());return e&&e.length&&(s=s.filter(function(){var t=n(this);return t.hasClass("cms-submenu-item-title")||-1!==e.indexOf(t.find("a").attr("href"))}),s=s.filter(function(t){var e=n(this);return!e.hasClass("cms-submenu-item-title")||e.hasClass("cms-submenu-item-title")&&!s.eq(t+1).hasClass("cms-submenu-item-title")&&s.eq(t+1).length})),s.find("a").on(t.click,t._delegate.bind(t)),s},_setupQuickSearch:function(t){var e=this,i=100,s=110,a=o.debounce(function(){var t=n(this),i=t.closest(".cms-plugin-picker");e._filterPluginsList(i,t)},i);t.find("> .cms-quicksearch").find("input").on(this.keyUp,a).on(this.keyUp,o.debounce(function(t){var e,i;t.keyCode===r.ENTER&&(e=n(this),
i=e.closest(".cms-plugin-picker"),i.find(".cms-submenu-item").not(".cms-submenu-item-title").filter(":visible").first().find("> a").focus().trigger("click"))},s))},_setupActions:function(t){var e=".cms-submenu-edit, .cms-submenu-item a",i=t.parent();i.find(".cms-submenu-edit").on(this.touchStart,function(t){t.stopPropagation()}),i.find(e).on(this.click,t,this._delegate.bind(this))},_delegate:function(t){t.preventDefault(),t.stopPropagation();var e,i=this;t.data&&t.data.nav&&(e=t.data.nav),CMS.API.Toolbar.showLoader();var s=".cms-submenu-edit, .cms-submenu-item a",o=n(t.target).closest(s);switch(p._hideSettingsMenu(e),o.attr("data-rel")){case"add":i.addPlugin(o.attr("href").replace("#",""),o.text(),o.closest(".cms-plugin-picker").data("parentId"));break;case"ajax_add":CMS.API.Toolbar.openAjax({url:o.attr("href"),post:JSON.stringify(o.data("post")),text:o.data("text"),callback:n.proxy(i.editPluginPostAjax,i),onSuccess:o.data("on-success")});break;case"edit":i.editPlugin(i.options.urls.edit_plugin,i.options.plugin_name,i._getPluginBreadcrumbs());break;case"copy-lang":i.copyPlugin(i.options,o.attr("data-language"));break;case"copy":o.parent().hasClass("cms-submenu-item-disabled")?CMS.API.Toolbar.hideLoader():i.copyPlugin();break;case"cut":i.cutPlugin();break;case"paste":o.parent().hasClass("cms-submenu-item-disabled")?CMS.API.Toolbar.hideLoader():i.pastePlugin();break;case"delete":i.deletePlugin(i.options.urls.delete_plugin,i.options.plugin_name,i._getPluginBreadcrumbs());break;default:CMS.API.Toolbar.hideLoader(),CMS.API.Toolbar._delegate(o)}},_setupKeyboardTraversing:function(){var t=n(".cms-modal-markup .cms-plugin-picker");t.length&&(u.off(this.keyDown+".traverse"),u.on(this.keyDown+".traverse",function(e){var i=t.find(".cms-submenu-item:visible a"),n=i.index(i.filter(":focus"));(e.keyCode===r.DOWN||e.keyCode===r.TAB&&!e.shiftKey)&&(e.preventDefault(),n>=0&&n<i.length-1?i.eq(n+1).focus():i.eq(0).focus()),(e.keyCode===r.UP||e.keyCode===r.TAB&&e.shiftKey)&&(e.preventDefault(),i.is(":focus")?i.eq(n-1).focus():i.eq(i.length).focus())}))},_showSettingsMenu:function(t){var e=this.ui.dropdown,i=t.parentsUntil(".cms-dragarea").last(),n=10;t.addClass("cms-btn-active"),i.addClass("cms-z-index-9999"),e.show(),this.ui.window.height()+this.ui.window.scrollTop()-t.offset().top-e.height()<=n&&t.offset().top-e.height()>=0?e.removeClass("cms-submenu-dropdown-top").addClass("cms-submenu-dropdown-bottom"):e.removeClass("cms-submenu-dropdown-bottom").addClass("cms-submenu-dropdown-top")},_filterPluginsList:function(t,e){var i=t.find(".cms-submenu-item"),s=t.find(".cms-submenu-item-title"),o=e.val();if(""===o)return i.add(s).show(),!1;var r=i.toArray().map(function(t){var e=n(t);return{value:e.text(),element:e}}),a=c(r,o,{key:"value"});i.hide(),a.forEach(function(t){t.element.show()}),s.filter(":visible").each(function(t,e){s.hide(),n(e).nextUntil(".cms-submenu-item-title").show()}),i.filter(":visible").each(function(t,e){var i=n(e);i.prev().hasClass("cms-submenu-item-title")?i.prev().show():i.prevUntil(".cms-submenu-item-title").last().prev().show()})},_toggleCollapsable:function(t){var e,i=this,s=i._getId(t.parent()),o=this.ui.draggable,r=CMS.settings;if(r.states=r.states||[],t.hasClass("cms-dragitem-expanded")){if(r.states.splice(n.inArray(s,r.states),1),t.removeClass("cms-dragitem-expanded").parent().find("> .cms-collapsable-container").addClass("cms-hidden"),u.data("expandmode")){if(e=o.find(".cms-draggable").find(".cms-dragitem-collapsable"),!e.length)return!1;e.each(function(){var t=n(this);t.hasClass("cms-dragitem-expanded")&&i._toggleCollapsable(t)})}}else if(r.states.push(s),t.addClass("cms-dragitem-expanded").parent().find("> .cms-collapsable-container").removeClass("cms-hidden"),u.data("expandmode")){if(e=o.find(".cms-draggable").find(".cms-dragitem-collapsable"),!e.length)return!1;e.each(function(){var t=n(this);t.hasClass("cms-dragitem-expanded")||i._toggleCollapsable(t)})}this.ui.window.trigger("resize.sideframe"),CMS.API.Toolbar.setSettings(r)},_collapsables:function(){var t=this;if(this.ui.draggable=n(".cms-draggable-"+this.options.plugin_id),!this.ui.draggable.length)return!1;var e=this.ui.draggable.find("> .cms-dragitem"),i=this.ui.draggable.find(".cms-dragitem-collapsable"),s=i.filter(".cms-dragitem-expanded");i.length===s.length&&i.length+s.length!==0&&this.ui.draggable.find(".cms-dragbar-title").addClass("cms-dragbar-title-expanded"),e.find("> .cms-dragitem-text").on(this.touchEnd+" "+this.click,o.debounce(function(){e.hasClass("cms-dragitem-collapsable")&&t._toggleCollapsable(e)},0))},_expandAll:function(t){var e=this,i=t.closest(".cms-dragarea").find(".cms-dragitem-collapsable");if(!i.length)return!1;i.each(function(){var t=n(this);t.hasClass("cms-dragitem-expanded")||e._toggleCollapsable(t)}),t.addClass("cms-dragbar-title-expanded");var s=CMS.settings;s.dragbars=s.dragbars||[],s.dragbars.push(this.options.placeholder_id),CMS.API.Toolbar.setSettings(s)},_collapseAll:function(t){var e=this,i=t.closest(".cms-dragarea").find(".cms-dragitem-collapsable");i.each(function(){var t=n(this);t.hasClass("cms-dragitem-expanded")&&e._toggleCollapsable(t)}),t.removeClass("cms-dragbar-title-expanded");var s=CMS.settings;s.dragbars=s.dragbars||[],s.dragbars.splice(n.inArray(this.options.placeholder_id,s.states),1),CMS.API.Toolbar.setSettings(s)},_getId:function(t){return CMS.API.StructureBoard.getId(t)},_getIds:function(t){return CMS.API.StructureBoard.getIds(t)},_getPluginBreadcrumbs:function(){var t=[];t.unshift({title:this.options.plugin_name,url:this.options.urls.edit_plugin});for(var e,i=function(t){return n.grep(CMS._plugins||[],function(e){return e[0]==="cms-plugin-"+t})[0]},s=this.options.plugin_parent;s&&"None"!==s&&(e=i(s));)t.unshift({title:e[1].plugin_name,url:e[1].urls.edit_plugin}),s=e[1].plugin_parent;return t}});p._updateRegistry=function(t){var e=(CMS._plugins||[]).findIndex(function(e){return e[0]==="cms-plugin-"+t.pluginId});-1!==e&&n.extend(!0,CMS._plugins[e][1],t.update)},p._hideSettingsMenu=function(t){var e=t||n(".cms-submenu-btn.cms-btn-active");e.length&&(e.removeClass("cms-btn-active"),e.closest(".cms-draggable").data("active",!1),n(".cms-z-index-9999").removeClass("cms-z-index-9999"),e.siblings(".cms-submenu-dropdown").hide(),e.siblings(".cms-quicksearch").hide(),e.siblings(".cms-quicksearch").find("input").val("").trigger(this.keyUp).blur(),n(".cms-dragbar").css("position",""))},p._initializeGlobalHandlers=function(){var t,e=0;u=n(document),d=n(".cms-clipboard"),h=d.find(".cms-draggable:first"),u.on("pointerup.cms.plugin",function(){p._hideSettingsMenu()}).on("keydown.cms.plugin",function(t){t.keyCode===r.SHIFT&&u.data("expandmode",!0)}).on("keyup.cms.plugin",function(t){t.keyCode===r.SHIFT&&u.data("expandmode",!1)}).on("click.cms.plugin",".cms-plugin a, a:has(.cms-plugin), a.cms-plugin",function(i){var s=300;i.shiftKey||i.ctrlKey||i.metaKey||i.isDefaultPrevented()||(i.preventDefault(),1===++e?t=setTimeout(function(){var t=n(i.currentTarget);e=0,window.open(t.attr("href"),t.attr("target")||"_self")},s):(clearTimeout(t),e=0))})},p._initializeDragItemsStates=o.once(function(){for(var t=CMS.settings.states||[],e=t.sort(),i=[],s=0;s<e.length;s++)e[s]!==e[s+1]&&i.push(e[s]);CMS.settings.states=i,n.each(CMS.settings.states,function(t,e){var i=n(".cms-draggable-"+e);i.find(".cms-draggables").length&&(i.find("> .cms-collapsable-container").removeClass("cms-hidden"),i.find("> .cms-dragitem").addClass("cms-dragitem-expanded"))})}),p._isContainingMultiplePlugins=function(t){var e=t.data("cms");if(!e)throw new Error("Provided node is not a cms plugin.");var i=e.map(function(t){return t.plugin_id});return i.length>1},p._highlightPluginStructure=function(t){var e=n('<div class="cms-dragitem-success"></div>'),i=2e3;t.addClass("cms-draggable-success").append(e),e.fadeOut(i,function(){n(this).remove(),t.removeClass("cms-draggable-success")}),n(o._getWindow()).trigger("resize.sideframe")},p._highlightPluginContent=function(t){var e={},i=[],s=n(o._getWindow()),r=2e3,a=.2;n(".cms-plugin-"+t).each(function(){var t=n(this),e=t.offset();i.push({x1:e.left,x2:e.left+t.outerWidth(),y1:e.top,y2:e.top+t.outerHeight()})});var l=n("html"),c="relative"===l.css("position")?parseInt(n("html").css("margin-top"),10):0;e.left=Math.min.apply(null,i.map(function(t){return t.x1})),e.top=Math.min.apply(null,i.map(function(t){return t.y1}))-c,e.width=Math.max.apply(null,i.map(function(t){return t.x2}))-e.left,e.height=Math.max.apply(null,i.map(function(t){return t.y2}))-e.top-c,s.scrollTop(e.top-s.height()*a),n('<div class="cms-plugin-overlay cms-dragitem-success"></div>').css(e).css({zIndex:9999}).appendTo(n("body")),n(".cms-plugin-overlay").fadeOut(r,function(){n(this).remove()})},p.aliasPluginDuplicatesMap={},p.staticPlaceholderDuplicatesMap={},p._initializeTree=function(){n.each(CMS._plugins,function(t,e){new CMS.Plugin(e[0],e[1])})},n(p._initializeGlobalHandlers),t.exports=p},function(t,e,i){var n=i(1),s=i(3),o=i(2).API.Helpers,r=i(2).KEYS,a=new s({options:{onClose:!1,sideframeDuration:300},initialize:function(t){this.options=n.extend(!0,{},this.options,t),this._setupUI(),this.click="click.cms.sideframe",this.pointerDown="pointerdown.cms.sideframe contextmenu.cms.sideframe",this.pointerUp="pointerup.cms.sideframe pointercancel.cms.sideframe",this.pointerMove="pointermove.cms.sideframe",this.enforceReload=!1,this.settingsRefreshTimer=600},_setupUI:function(){var t=n(".cms-sideframe");this.ui={sideframe:t,body:n("html"),window:n(window),dimmer:t.find(".cms-sideframe-dimmer"),close:t.find(".cms-sideframe-close"),frame:t.find(".cms-sideframe-frame"),shim:t.find(".cms-sideframe-shim"),historyBack:t.find(".cms-sideframe-history .cms-icon-arrow-back"),historyForward:t.find(".cms-sideframe-history .cms-icon-arrow-forward")}},_events:function(){var t=this;this.history={back:[],forward:[]},this.ui.close.off(this.click).on(this.click,function(){t.close()}),this.ui.dimmer.off(this.click).on(this.click,function(){t.close()}),this.ui.historyBack.off(this.click).on(this.click,function(){return t.ui.historyBack.hasClass("cms-icon-disabled")?!1:void t._goToHistory("back")}),this.ui.historyForward.off(this.click).on(this.click,function(){return t.ui.historyForward.hasClass("cms-icon-disabled")?!1:void t._goToHistory("forward")})},open:function(t){if(!t||!t.url)throw new Error('The arguments passed to "open" were invalid.');var e=t.url,i=t.animate,n="language="+CMS.config.request.language,s="page_id="+CMS.config.request.page_id,r=[];return this._events(),this.ui.dimmer.show(),this.ui.frame.addClass("cms-loader"),CMS.API&&CMS.API.Toolbar&&CMS.API.Toolbar.showLoader(),e.indexOf(CMS.config.request.tree)>=0&&(CMS.config.request.language&&r.push(n),CMS.config.request.page_id&&r.push(s)),e=o.makeURL(e,r),this._content(e),CMS.settings.sideframe.hidden=!1,this._show(i),this},_content:function(t){function e(){var t=a.ui.sideframe.width();a.ui.sideframe.animate({width:t+1},0),setTimeout(function(){a.ui.sideframe.animate({width:t},0),a.ui.shim.css("z-index",20),setTimeout(function(){a.ui.shim.css("z-index",1)},0)},0)}var i,s,a=this,l=n('<iframe src="'+t+'" class="" frameborder="0" />'),c=this.ui.frame,u=/iPhone|iPod|iPad/.test(navigator.userAgent);l.hide().on("load",function(){try{l.contents()}catch(t){return CMS.API.Messages.open({message:"<strong>"+t+"</strong>",error:!0}),void a.close()}i=l.contents(),s=i.find("body"),s.addClass("cms-admin cms-admin-sideframe"),a.ui.frame.removeClass("cms-loader"),l.show(),u&&e(),CMS.config.debug&&s.addClass("cms-debug"),CMS.settings.sideframe.url=l[0].contentWindow.location.href,CMS.settings=o.setSettings(CMS.settings),i.on(a.click,function(){n(document).trigger("click.cms")}),s.on("keydown.cms",function(t){t.keyCode===r.ESC&&a.close()}),i.find(".viewsitelink").attr("target","_top"),a._addToHistory(this.contentWindow.location.href)}),c.empty(),c.html(l)},_show:function(t){var e=this,i="95%";this.ui.sideframe.show(),t?this.ui.sideframe.animate({width:i,overflow:"visible"},this.options.sideframeDuration):this.ui.sideframe.css("width",i),CMS.API&&CMS.API.Toolbar&&(CMS.API.Toolbar.open(),CMS.API.Toolbar.hideLoader(),CMS.API.Toolbar._lock(!0)),this.ui.body.off("keydown.cms.close").on("keydown.cms.close",function(t){t.keyCode===r.ESC&&(e.options.onClose=null,e.close())}),this.ui.body.addClass("cms-prevent-scrolling"),o.preventTouchScrolling(n(document),"sideframe")},close:function(){this.ui.dimmer.hide(),CMS.settings.sideframe={url:null,hidden:!1},CMS.settings=o.setSettings(CMS.settings),o.reloadBrowser(this.options.onClose,!1,!0),this._hide({duration:this.options.sideframeDuration/2})},_hide:function(t){var e=this.options.sideframeDuration;t&&"number"==typeof t.duration&&(e=t.duration),this.ui.sideframe.animate({width:0},e,function(){n(this).hide()}),this.ui.frame.removeClass("cms-loader"),CMS.API&&CMS.API.Toolbar&&CMS.API.Toolbar._lock(!1),this.ui.body.off("keydown.cms.close"),this.ui.body.removeClass("cms-prevent-scrolling"),o.allowTouchScrolling(n(document),"sideframe")},_goToHistory:function(t){var e,i=this.ui.frame.find("iframe");"back"===t&&(this.history.forward.push(this.history.back.pop()),i.attr("src",this.history.back[this.history.back.length-1])),"forward"===t&&(e=this.history.forward.pop(),this.history.back.push(e),i.attr("src",e)),this._updateHistoryButtons()},_addToHistory:function(t){this.history.back.push(t);var e=this.history.back.length;this.history.back[e-1]===this.history.back[e-2]&&this.history.back.pop(),this._updateHistoryButtons()},_updateHistoryButtons:function(){this.history.back.length>1?this.ui.historyBack.removeClass("cms-icon-disabled"):this.ui.historyBack.addClass("cms-icon-disabled"),this.history.forward.length>=1?this.ui.historyForward.removeClass("cms-icon-disabled"):this.ui.historyForward.addClass("cms-icon-disabled")}});t.exports=a},function(t,e){"function"!=typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,s=arguments[1],o=0;n>o;o++)if(e=i[o],t.call(s,e,o,i))return o;return-1})},function(t,e,i){(function(){var t,n;t=i(11).sep,e.basenameScore=function(i,n,s){var o,r,a,l,c,u;for(a=i.length-1;i[a]===t;)a--;for(u=0,l=a,o=null;a>=0;)i[a]===t?(u++,null==o&&(o=i.substring(a+1,l+1))):0===a&&(l<i.length-1?null==o&&(o=i.substring(0,l+1)):null==o&&(o=i)),a--;return o===i?s*=2:o&&(s+=e.score(o,n)),c=u+1,r=Math.max(1,10-c),s*=.01*r},e.score=function(e,i){var s,o,r,a,l,c,u,d,h,p,f,m;if(e===i)return 1;if(n(e,i))return 1;for(p=0,u=i.length,h=e.length,r=0,a=0;u>r;){if(s=i[r++],l=e.indexOf(s.toLowerCase()),f=e.indexOf(s.toUpperCase()),c=Math.min(l,f),-1===c&&(c=Math.max(l,f)),a=c,-1===a)return 0;o=.1,e[a]===s&&(o+=.1),0===a||e[a-1]===t?o+=.8:"-"!==(m=e[a-1])&&"_"!==m&&" "!==m||(o+=.7),e=e.substring(a+1,h),p+=o}return d=p/u,(d*(u/h)+d)/2},n=function(e,i){return e[e.length-i.length-1]===t?e.lastIndexOf(i)===e.length-i.length:void 0}}).call(this)},function(t,e,i){var n=i(1);!function(t,e){function i(t){if(9===t.keyCode){var e=!!t.shiftKey;n(this,t.target,e)&&(t.preventDefault(),t.stopPropagation())}}function n(t,e,i){var n,s,o,r,l=a(t),c=e;do{switch(n=l.index(c),s=n+1,o=n-1,r=l.length-1,n){case-1:return!1;case 0:o=r;break;case r:s=0}if(i&&(s=o),c=l.get(s),!c||c===e)return!0;try{c.focus()}catch(u){return!0}}while(l.length>1&&e===e.ownerDocument.activeElement);return!0}function s(){return this.tabIndex>0}function o(){return!this.tabIndex}function r(t,e){return t.t-e.t||t.i-e.i}function a(e){var i=t(e),n=[],a=0;return h.enable&&h.enable(),i.find("a[href], link[href], [draggable=true], [contenteditable=true], :input:enabled, [tabindex=0]").filter(":visible").filter(o).each(function(t,e){n.push({v:e,t:0,i:a++})}),i.find("[tabindex]").filter(":visible").filter(s).each(function(t,e){n.push({v:e,t:e.tabIndex,i:a++})}),h.disable&&h.disable(),n=t.map(n.sort(r),function(t){return t.v}),t(n)}function l(){return this.keydown(i),this.data(d,!0),this}function c(){return this.unbind("keydown",i),this.removeData(d),this}function u(){return!!this.data(d)}var d="trap.isTrapping";t.fn.extend({trap:l,untrap:c,isTrapping:u});var h={};t.find.find&&t.find.attr!==t.attr&&!function(){function i(t){var i=t.getAttributeNode(o);return i&&i.specified?parseInt(i.value,10):e}function n(){r[o]=r.tabIndex=i}function s(){delete r[o],delete r.tabIndex}var o="tabindex",r=t.expr.attrHandle;h={enable:n,disable:s}}()}(n)},function(t,e,i){function n(t){this.localeName=t,this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}var s=i(10);n.prototype.bindKeyCode=function(t,e){"string"==typeof e&&(e=[e]),this._keyMap[t]=e},n.prototype.bindMacro=function(t,e){"string"==typeof e&&(e=[e]);var i=null;"function"==typeof e&&(i=e,e=null);var n={keyCombo:new s(t),keyNames:e,handler:i};this._macros.push(n)},n.prototype.getKeyCodes=function(t){var e=[];for(var i in this._keyMap){var n=this._keyMap[i].indexOf(t);n>-1&&e.push(0|i)}return e},n.prototype.getKeyNames=function(t){return this._keyMap[t]||[]},n.prototype.setKillKey=function(t){if("string"!=typeof t)this._killKeyCodes.push(t);else for(var e=this.getKeyCodes(t),i=0;i<e.length;i+=1)this.setKillKey(e[i])},n.prototype.pressKey=function(t){if("string"!=typeof t){for(var e=this.getKeyNames(t),i=0;i<e.length;i+=1)-1===this.pressedKeys.indexOf(e[i])&&this.pressedKeys.push(e[i]);this._applyMacros()}else for(var n=this.getKeyCodes(t),i=0;i<n.length;i+=1)this.pressKey(n[i])},n.prototype.releaseKey=function(t){if("string"==typeof t)for(var e=this.getKeyCodes(t),i=0;i<e.length;i+=1)this.releaseKey(e[i]);else{var n=this.getKeyNames(t),s=this._killKeyCodes.indexOf(t);if(s>-1)this.pressedKeys.length=0;else for(var i=0;i<n.length;i+=1){var o=this.pressedKeys.indexOf(n[i]);o>-1&&this.pressedKeys.splice(o,1)}this._clearMacros()}},n.prototype._applyMacros=function(){for(var t=this._macros.slice(0),e=0;e<t.length;e+=1){var i=t[e];if(i.keyCombo.check(this.pressedKeys)){i.handler&&(i.keyNames=i.handler(this.pressedKeys));for(var n=0;n<i.keyNames.length;n+=1)-1===this.pressedKeys.indexOf(i.keyNames[n])&&this.pressedKeys.push(i.keyNames[n]);this._appliedMacros.push(i)}}},n.prototype._clearMacros=function(){for(var t=0;t<this._appliedMacros.length;t+=1){var e=this._appliedMacros[t];if(!e.keyCombo.check(this.pressedKeys)){for(var i=0;i<e.keyNames.length;i+=1){var n=this.pressedKeys.indexOf(e.keyNames[i]);n>-1&&this.pressedKeys.splice(n,1)}e.handler&&(e.keyNames=null),this._appliedMacros.splice(t,1),t-=1}}},t.exports=n},,,function(t,e,i){var n=i(1),s=i(3),o=i(2).API.Helpers,r=i(5),a=new s({implement:[o],initialize:function(){this._setupUI(),this.click="click.cms.clipboard",this._events()},_setupUI:function(){var t=n(".cms-clipboard");this.ui={clipboard:t,triggers:n(".cms-clipboard-trigger a"),triggerRemove:n(".cms-clipboard-empty a"),pluginsList:t.find(".cms-clipboard-containers"),document:n(document)}},_events:function(){var t=this,e=400,i=117;t.modal=new r({minWidth:e,minHeight:i,minimizable:!1,maximizable:!1,resizable:!1,closeOnEsc:!1}),t.modal.on("cms.modal.loaded cms.modal.closed",function(){n(".cms-add-plugin-placeholder").remove()}).on("cms.modal.closed cms.modal.load",function(){t.ui.pluginsList.prependTo(t.ui.clipboard)}).ui.modal.on("cms.modal.load",function(){t.ui.pluginsList.prependTo(t.ui.clipboard)}),t.ui.triggers.on(t.click,function(s){return s.preventDefault(),s.stopPropagation(),n(this).parent().hasClass("cms-toolbar-item-navigation-disabled")?!1:(t.modal.open({html:t.ui.pluginsList,title:t.ui.clipboard.data("title"),width:e,height:i}),void t.ui.document.trigger("click.cms.toolbar"))}),t.ui.triggerRemove.on(t.click,function(e){return e.preventDefault(),e.stopPropagation(),n(this).parent().hasClass("cms-toolbar-item-navigation-disabled")?!1:void t.clear(function(){t._isClipboardModalOpen()&&t.modal.close(),t.ui.triggers.parent().addClass("cms-toolbar-item-navigation-disabled"),t.ui.triggerRemove.parent().addClass("cms-toolbar-item-navigation-disabled"),t.ui.document.trigger("click.cms.toolbar")})})},_isClipboardModalOpen:function(){return!!this.modal.ui.modalBody.find(".cms-clipboard-containers").length},clear:function(t){var e='{ "csrfmiddlewaretoken": "'+CMS.config.csrf+'" }',i=n(".cms-submenu-item [data-rel=paste]").attr("tabindex","-1").parent().addClass("cms-submenu-item-disabled");i.find(".cms-submenu-item-paste-tooltip").css("display","none"),i.find(".cms-submenu-item-paste-tooltip-empty").css("display","block"),CMS.API.Toolbar.openAjax({url:CMS.config.clipboard.url,post:e,callback:t})}});t.exports=a},function(t,e,i){var n=i(1),s=i(3),o=new s({options:{messageDuration:300,messageDelay:3e3},initialize:function(t){this.options=n.extend(!0,{},this.options,t),this.click="click.cms.message",this._setupUI()},_setupUI:function(){var t=n(".cms");this.ui={container:t,body:n("html"),toolbar:t.find(".cms-toolbar"),messages:t.find(".cms-messages")}},open:function(t){if(!t||!t.message)throw new Error('The arguments passed to "open" were invalid.');var e=this,i=t.message,n=void 0===t.dir?"center":t.dir,s=void 0===t.delay?this.options.messageDelay:t.delay,o=void 0===t.error?!1:t.error,r=320,a=this.ui.messages.outerHeight(!0),l=this.ui.toolbar.outerHeight(!0),c=this.ui.messages.find(".cms-messages-close");switch(this.ui.messages.find(".cms-messages-inner").html(i),this.ui.messages.removeClass("cms-messages-error"),o&&this.ui.messages.addClass("cms-messages-error"),clearTimeout(this.timer),c.hide(),c.off(this.click).on(this.click,function(){e.close()}),"collapsed"===CMS.settings.toolbar&&(l=0),this.ui.messages.css("top",-a).show(),n){case"left":this.ui.messages.css({top:l,left:-r,right:"auto","margin-left":0}),this.ui.messages.animate({left:0});break;case"right":this.ui.messages.css({top:l,right:-r,left:"auto","margin-left":0}),this.ui.messages.animate({right:0});break;default:this.ui.messages.css({left:"50%",right:"auto","margin-left":-(r/2)}),this.ui.messages.animate({top:l})}0>=s?c.show():this.timer=setTimeout(function(){e.close()},s)},close:function(){this.ui.messages.fadeOut(this.options.messageDuration)}});t.exports=o},,,,function(t,e,i){function n(){d.each(function(){var t=o(this),e=t.find('.cms-dragbar .cms-submenu-item:has(a[data-rel="copy"]):first');t.find("> .cms-draggables").children(".cms-draggable:not(.cms-draggable-is-dragging)").length?(t.removeClass("cms-dragarea-empty"),e.removeClass("cms-submenu-item-disabled")):(t.addClass("cms-dragarea-empty"),e.addClass("cms-submenu-item-disabled"))})}function s(t){t.each(function(){var t=o(this),e=t.closest(".cms-draggable").find("> .cms-dragitem");t.children().length?e.addClass("cms-dragitem-collapsable cms-dragitem-expanded"):e.removeClass("cms-dragitem-collapsable")})}var o=i(1),r=i(3),a=i(2).API.Helpers,l=i(2).KEYS,c=i(15),u=i(4);i(43),i(45),i(44);var d,h=new r({initialize:function(){this._setupUI(),this.click="click.cms",this.pointerUp="pointerup.cms",this.state=!1,this.dragging=!1,this._setup(),this._setupModeSwitcher(),n()},_setupUI:function(){var t=o(".cms-structure"),e=o(".cms-toolbar");this.ui={container:t,content:o(".cms-structure-content"),doc:o(document),window:o(window),html:o("html"),toolbar:e,sortables:o(".cms-draggables"),plugins:o(".cms-plugin"),render_model:o(".cms-render-model"),placeholders:o(".cms-placeholder"),dragitems:o(".cms-draggable"),dragareas:o(".cms-dragarea"),toolbarModeSwitcher:e.find(".cms-toolbar-item-cms-mode-switcher"),toolbarModeLinks:e.find(".cms-toolbar-item-cms-mode-switcher a"),toolbarTrigger:o(".cms-toolbar-trigger")}},_setup:function(){var t=this;return this.ui.dragareas.length&&this.ui.toolbarModeSwitcher.length?("structure"===CMS.settings.mode?t.show(!0):t.hide(!0),this.ui.placeholders.length&&this.ui.toolbarModeSwitcher.show(),void this._drag()):!1},_setupModeSwitcher:function(){var t=this,e=t.ui.toolbarModeLinks;e.eq(1).on(t.click+" "+t.pointerUp,function(e){return e.preventDefault(),"edit"===CMS.settings.mode?!1:void t.hide()}),e.eq(0).on(t.click+" "+t.pointerUp,function(e){return e.preventDefault(),"structure"===CMS.settings.mode?!1:void t.show()}),t.ui.toolbarModeSwitcher.length&&t.ui.toolbarModeSwitcher.is(":visible")&&(u.setContext("cms"),u.bind("space",function(e){e.preventDefault(),t._toggleStructureBoard()}),u.bind("shift+space",function(e){e.preventDefault(),t._toggleStructureBoard({useHoveredPlugin:!0})}))},_toggleStructureBoard:function(t){var e=this,i=t?t:{};i.useHoveredPlugin?"structure"===CMS.settings.mode?e._hideAndHighlightPlugin():e._showAndHighlightPlugin():"structure"===CMS.settings.mode?e.hide():"edit"===CMS.settings.mode&&e.show()},_showAndHighlightPlugin:function(){if("live"===CMS.config.mode)return!1;if(!CMS.API.Tooltip)return!1;var t=CMS.API.Tooltip.domElem,e=10,i=50;if(!t.is(":visible"))return!1;var n=t.data("plugin_id"),s=o(".cms-draggable-"+n);o(document).data("expandmode",!1),s.parents(".cms-draggable").find('> .cms-dragitem-collapsable:not(".cms-dragitem-expanded") > .cms-dragitem-text').trigger("click"),this.show(),setTimeout(function(){var t=s.offsetParent(),e=s.position().top+t.scrollTop();s.offsetParent().scrollTop(e-window.innerHeight/2+i),c._highlightPluginStructure(s.find(".cms-dragitem:first"))},e)},_hideAndHighlightPlugin:function(){if("live"===CMS.config.mode)return!1;var t=[],e=10;try{t=o(".cms-dragitem:hover")}catch(i){o(".cms-dragitem").each(function(){var e=o(this);e.is(":hover")&&(t=e)})}if(!t.length||t.closest(".cms-clipboard-containers").length)return!1;var n=t.closest(".cms-draggable"),s=this.getId(n);this.hide(),setTimeout(function(){c._highlightPluginContent(s)},e)},show:function(t){if("live"===CMS.config.mode)return!1;var e=this.ui.toolbar.width(),i=this.ui.window[0].innerWidth-e;i&&(this.ui.toolbar.css("right",i),this.ui.toolbarTrigger.css("right",i));var n=this.ui.toolbarModeLinks;n.removeClass("cms-btn-active").eq(0).addClass("cms-btn-active"),this.ui.html.removeClass("cms-structure-mode-content").addClass("cms-structure-mode-structure"),CMS.settings.mode="structure",t||(CMS.settings=a.setSettings(CMS.settings)),this.ui.dragareas.show(),this._showBoard()},hide:function(t){if("live"===CMS.config.mode)return!1;this.ui.toolbar.css("right",""),this.ui.toolbarTrigger.css("right","");var e=this.ui.toolbarModeLinks;e.removeClass("cms-btn-active").eq(1).addClass("cms-btn-active"),this.ui.html.removeClass("cms-structure-mode-structure").addClass("cms-structure-mode-content"),CMS.settings.mode="edit",t||(CMS.settings=a.setSettings(CMS.settings)),this._hideBoard()},getId:function(t){if(void 0===t||null===t||t.length<=0)return!1;var e=null,i=t.attr("class").split(" ")[1];return t.hasClass("cms-plugin")?e=i.replace("cms-plugin-",""):t.hasClass("cms-draggable")?e=i.replace("cms-draggable-",""):t.hasClass("cms-placeholder")?e=i.replace("cms-placeholder-",""):t.hasClass("cms-dragbar")?e=i.replace("cms-dragbar-",""):t.hasClass("cms-dragarea")&&(e=i.replace("cms-dragarea-","")),e},getIds:function(t){var e=this,i=[];return t.each(function(){i.push(e.getId(o(this)))}),i},_showBoard:function(){this.ui.container.show(),this.ui.dragareas.css("opacity",1);var t=this.ui.content,e=t.find(".cms-dragarea");e.each(function(e,i){o(i).hasClass("cms-dragarea-static")&&t.append(i)}),e.filter(".cms-dragarea-static").eq(0).css("margin-top","50px")},_hideBoard:function(){this.ui.container.hide();try{var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}catch(e){}},_drag:function(){var t,e=this;this.ui.sortables.nestedSortable({items:"> .cms-draggable:not(.cms-draggable-disabled .cms-draggable)",placeholder:"cms-droppable",connectWith:".cms-draggables:not(.cms-hidden)",tolerance:"intersect",toleranceElement:"> div",dropOnEmpty:!0,helper:function(t,e){var i=e.find("> .cms-dragitem").clone();return i.wrap('<div class="'+e[0].className+'"></div>'),i.parent()},appendTo:".cms-structure-content",cursor:"move",cursorAt:{left:-15,top:-15},opacity:1,zIndex:9999999,delay:100,tabSize:15,listType:"div.cms-draggables",doNotClear:!0,disableNestingClass:"cms-draggable-disabled",errorClass:"cms-draggable-disallowed",scrollSpeed:15,scrollSensitivity:.2*e.ui.window.height(),start:function(i,s){e.ui.content.attr("data-touch-action","none"),t=s.item.closest(".cms-draggables"),e.dragging=!0,n(),c._hideSettingsMenu(),e.ui.sortables.each(function(){var t=o(this);0===t.children().length&&t.removeClass("cms-hidden")}),s.item.addClass("cms-is-dragging"),s.helper.addClass("cms-draggable-is-dragging"),s.item.find("> .cms-draggables").children().length&&s.helper.addClass("cms-draggable-stack"),e.ui.doc.on("keyup.cms.interrupt",function(t,i){(t.keyCode===l.ESC&&e.dragging||i)&&(e.state=!1,o.ui.sortable.prototype._mouseStop(),e.ui.sortables.trigger("mouseup"))})},beforeStop:function(t,i){e.dragging=!1,i.item.removeClass("cms-is-dragging cms-draggable-stack"),e.ui.doc.off("keyup.cms.interrupt"),e.ui.content.attr("data-touch-action","pan-y")},update:function(i,r){if(!e.state)return!1;var a=r.item.closest(".cms-draggables");if(t.is(a)){if(!a.is(this))return!1}else s(a.add(t));var l=e.getId(r.item),c=o(".cms-draggable-"+l),u={id:l},d=t.closest(".cms-draggable");if(d.length){var h=e.getId(d);u.previousParentPluginId=h}t.hasClass("cms-clipboard-containers")?c.trigger("cms-paste-plugin-update",[u]):c.trigger("cms-plugins-update",[u]),e.ui.sortables.each(function(){var t=o(this);0===t.children().length&&t.addClass("cms-hidden")}),n()},isAllowed:function(t,i,n){if(CMS.API.locked)return!1;var s,r=[];if(t&&t.closest(".cms-clipboard-containers").length)return!1;if(t&&t.parent().hasClass("cms-draggable-disabled"))return!1;var a=e.getId(n),l=o(".cms-draggable-"+a);if(0===l.length||!l.data("cms"))return!1;var c,u=l.data("cms"),d=o.grep(u.plugin_parent_restriction,function(t){return"0"!==t}),h=u.plugin_type,p=e.getId(t.closest(".cms-dragarea")),f=o(".cms-placeholder-"+p);return c=o(i&&i.length?".cms-draggable-"+e.getId(i.closest(".cms-draggable")):".cms-draggable-"+e.getId(t.closest(".cms-draggable"))),f.length&&(r=f.data("cms").plugin_restriction,s=f.data("cms").plugin_type),c.length&&(r=c.data("cms").plugin_restriction,s=c.data("cms").plugin_type),e.state=!(r.length&&-1===o.inArray(h,r)),d.length&&(e.state=-1!==o.inArray(s,d)),e.state}}).on("cms-structure-update",n)}});h._initializeGlobalHandlers=function(){d=o(".cms-dragarea:not(.cms-clipboard-containers)")},o(h._initializeGlobalHandlers),t.exports=h},function(t,e,i){var n=i(1),s=i(3),o=i(2).API.Helpers,r=i(2).KEYS,a=i(14),l=i(16),c=i(5),u=1e3,d=10,h=5,p=new s({implement:[o],options:{toolbarDuration:200},initialize:function(t){this.options=n.extend(!0,{},this.options,t),this._setupUI(),this.navigation=new a,this._position={top:0,stickyTop:0,isSticky:!0},this.click="click.cms.toolbar",this.touchStart="touchstart.cms.toolbar",this.pointerUp="pointerup.cms.toolbar",this.pointerOverOut="pointerover.cms.toolbar pointerout.cms.toolbar",this.pointerLeave="pointerleave.csm.toolbar",this.mouseEnter="mouseenter.cms.toolbar",this.mouseLeave="mouseleave.cms.toolbar",this.resize="resize.cms.toolbar",this.scroll="scroll.cms.toolbar",this.key="keydown.cms.toolbar keyup.cms.toolbar",this.timer=function(){},this.lockToolbar=!1,this.ui.toolbar.data("ready")||this._events();var e=this;setTimeout(function(){e._initialStates()},0),this.ui.toolbar.data("ready",!0)},_setupUI:function(){var t=n(".cms");this.ui={container:t,body:n("html"),document:n(document),window:n(window),toolbar:t.find(".cms-toolbar"),toolbarTrigger:t.find(".cms-toolbar-trigger"),navigations:t.find(".cms-toolbar-item-navigation"),buttons:t.find(".cms-toolbar-item-buttons"),messages:t.find(".cms-messages"),structureBoard:t.find(".cms-structure")}},_events:function(){var t=this,e=10;this.ui.toolbarTrigger.on(this.pointerUp+" keyup.cms.toolbar",function(e){"keyup"===e.type&&e.keyCode!==CMS.KEYS.ENTER||(e.preventDefault(),t.toggle(),t.ui.document.trigger(t.click))}).on(this.click,function(t){t.preventDefault()}),this.ui.navigations.each(function(){
function e(){p=!1,f=!1,s.removeClass(l),s.find("ul ul").hide(),i.find("> li").off(t.mouseEnter),t.ui.document.off(t.click),t.ui.toolbar.off(t.click,e),t.ui.structureBoard.off(t.click),t.ui.window.off(t.resize+".menu.reset"),t._handleLongMenus()}var i=n(this),s=i.find("li"),a="cms-toolbar-item-navigation",l="cms-toolbar-item-navigation-hover",c="cms-toolbar-item-navigation-disabled",d="cms-toolbar-item-navigation-children",h=!1,p=!1,f=!1;n(window).on("keyup.cms.toolbar",function(t){t.keyCode===CMS.KEYS.ESC&&e()}),i.find("> li > a").add(t.ui.toolbar.find(".cms-toolbar-item:not(.cms-toolbar-item-navigation) > a")).off("keyup.cms.toolbar.reset").on("keyup.cms.toolbar.reset",function(t){t.keyCode===CMS.KEYS.TAB&&e()}),i.find("a").on(t.click+" "+t.key,function(i){var s=n(this);if(i.keyCode!==r.CMD_LEFT&&i.keyCode!==r.CMD_RIGHT&&i.keyCode!==r.CMD_FIREFOX&&i.keyCode!==r.SHIFT&&i.keyCode!==r.CTRL||(f=!0),"keyup"===i.type&&(f=!1),""!==s.attr("href")&&"#"!==s.attr("href")&&!s.parent().hasClass(c)){if(f&&"click"===i.type)o._getWindow().open(s.attr("href"),"_blank");else{if("click"!==i.type)return;t._delegate(n(this))}return e(),!1}}).on(t.touchStart,function(){h=!0}),s.on(t.click,function(s){s.preventDefault(),s.stopPropagation();var r=n(this);if(r.parent().hasClass(a)&&p)return t.ui.body.trigger(t.click),!1;r.hasClass(d)||e();var f=r.parent().hasClass(a);return f&&r.hasClass(l)||r.hasClass(c)&&!f?!1:(r.addClass(l),t._handleLongMenus(),h||i.find("> li").on(t.mouseEnter,function(){return n(this).hasClass(l)?!1:(p=!1,void n(this).trigger(t.click))}),h=!1,t.ui.document.on(t.click,e),t.ui.structureBoard.on(t.click,e),t.ui.toolbar.on(t.click,e),t.ui.window.on(t.resize+".menu.reset",o.throttle(e,u)),void(p=!0))}),s.on(t.pointerOverOut+" keyup.cms.toolbar","li",function(e){var i=n(this),o=i.closest(".cms-toolbar-item-navigation-children").add(i.parents(".cms-toolbar-item-navigation-children")),r=i.hasClass(d)||o.length;return i.hasClass(c)?void e.stopPropagation():i.hasClass(l)&&"keyup"!==e.type?!0:(s.find("li").removeClass(l),i.addClass(l),r&&"keyup"!==e.type||r&&"keyup"===e.type&&e.keyCode===CMS.KEYS.ENTER?(i.find("> ul").show(),o.addClass(l),t._handleLongMenus()):"keyup"!==e.type&&(s.find("ul ul").hide(),t._handleLongMenus()),void i.siblings().find("> ul").hide())}).on(t.click,function(t){t.preventDefault(),t.stopPropagation()}),s.on(t.pointerLeave,"> ul",function(){s.find("li").removeClass(l)})}),this.ui.buttons.each(function(){var e=n(this);e.find("a").attr("data-rel")?e.on(t.click,function(e){e.preventDefault(),t._delegate(n(this).find("a"))}):e.find("a").on(t.click,function(t){t.stopPropagation()}),e.find(".cms-publish-page").on(t.click,function(t){o.secureConfirm(CMS.config.lang.publish)||t.preventDefault()}),e.find(".cms-btn-publish").on(t.click,function(e){e.preventDefault(),t.showLoader(),n.ajax({type:"post",url:n(this).prop("href"),data:{csrfmiddlewaretoken:CMS.config.csrf},success:function(){var e=o.makeURL(o._getWindow().location.href.split("?")[0],[CMS.settings.edit_off+"=true"]);o.reloadBrowser(e),t.hideLoader()},error:function(e){t.hideLoader(),CMS.API.Messages.open({message:e.responseText+" | "+e.status+" "+e.statusText,error:!0})}})})}),this.ui.window.on([this.resize,this.scroll].join(" "),o.throttle(n.proxy(this._handleLongMenus,this),e))},_initialStates:function(){var t=n(".cms-btn-publish").parent();if("expanded"===CMS.settings.toolbar?this.open({duration:0}):this.close(),t.hide(),n(".cms-btn-publish-active").length&&(t.show(),this.ui.window.trigger("resize")),CMS.config.debug&&this._debug(),CMS.config.messages&&CMS.API.Messages.open({message:CMS.config.messages}),CMS.config.error&&CMS.API.Messages.open({message:CMS.config.error,error:!0}),CMS.config.auth&&CMS.config.settings.version===CMS.settings.version||(this.open({duration:0}),CMS.settings=this.setSettings(CMS.config.settings)),CMS.config.publisher&&CMS.API.Messages.open({message:CMS.config.publisher,dir:"right"}),CMS.settings.sideframe&&CMS.settings.sideframe.url){var e=new l;e.open({url:CMS.settings.sideframe.url,animate:!1})}this.ui.body.addClass("cms-ready"),this.ui.document.trigger("cms-ready")},toggle:function(){"collapsed"===CMS.settings.toolbar?this.open():this.close()},open:function(t){this._show(t),CMS.settings.toolbar="expanded",CMS.settings=this.setSettings(CMS.settings)},_show:function(t){var e=this,i=t&&void 0!==t.duration?t.duration:this.options.toolbarDuration,s=n(".cms-debug-bar").height()||0,o=n(".cms-toolbar").height()+d;this.ui.toolbar.css({transition:"margin-top "+i+"ms","margin-top":0}),this.ui.toolbarTrigger.addClass("cms-toolbar-trigger-expanded"),this.ui.body.addClass("cms-toolbar-expanding"),this.ui.body.animate({"margin-top":o-d+s},i,"linear",function(){e.ui.body.removeClass("cms-toolbar-expanding"),e.ui.body.addClass("cms-toolbar-expanded")}),this.ui.messages.css("top",o-d)},close:function(){this._hide(),CMS.settings.toolbar="collapsed",CMS.settings=this.setSettings(CMS.settings)},_hide:function(){var t=this.options.toolbarDuration,e=n(".cms-toolbar").height()+d,i=this;return this.ui.toolbar.css("transition","margin-top "+t+"ms"),this.lockToolbar?!1:(this.ui.toolbar.css("margin-top",-e),this.ui.toolbarTrigger.removeClass("cms-toolbar-trigger-expanded"),this.ui.body.addClass("cms-toolbar-collapsing"),this.ui.body.animate({"margin-top":CMS.config.debug?h:0},t,"linear",function(){i.ui.body.removeClass("cms-toolbar-expanded cms-toolbar-collapsing")}),void this.ui.messages.css("top",0))},openAjax:function(t){var e=this,i=t.url,s=t.post||"{}",r=t.text||"",a=t.callback,l=t.onSuccess,c=r?o.secureConfirm(r):!0;return c?(this.showLoader(),n.ajax({type:"POST",url:i,data:JSON.parse(s)}).done(function(t){CMS.API.locked=!1,a?(a(e,t),e.hideLoader()):l?o.reloadBrowser(l,!1,!0):o.reloadBrowser(!1,!1,!0)}).fail(function(t){CMS.API.locked=!1,CMS.API.Messages.open({message:t.responseText+" | "+t.status+" "+t.statusText,error:!0})})):!1},showLoader:function(){this.ui.toolbarTrigger.addClass("cms-toolbar-loader")},hideLoader:function(){this.ui.toolbarTrigger.removeClass("cms-toolbar-loader")},_delegate:function(t){var e=t.data("rel");if(t.hasClass("cms-btn-disabled"))return!1;switch(e){case"modal":var i=new c({onClose:t.data("on-close")});i.open({url:t.attr("href"),title:t.data("name")});break;case"message":CMS.API.Messages.open({message:t.data("text")});break;case"sideframe":var n=new l({onClose:t.data("on-close")});n.open({url:t.attr("href"),animate:!0});break;case"ajax":this.openAjax({url:t.attr("href"),post:JSON.stringify(t.data("post")),text:t.data("text"),onSuccess:t.data("on-success")});break;default:o._getWindow().location.href=t.attr("href")}},_lock:function(t){t?(this.lockToolbar=!0,this.ui.toolbarTrigger.css("opacity",.2)):(this.lockToolbar=!1,this.ui.toolbarTrigger.css("opacity",1))},_debug:function(){var t=1e3,e=function(){},i=this.ui.container.find(".cms-debug-bar");i.on(this.mouseEnter+" "+this.mouseLeave,function(i){clearTimeout(e),"mouseenter"===i.type&&(e=setTimeout(function(){CMS.API.Messages.open({message:CMS.config.lang.debug})},t))})},_handleLongMenus:function(){var t=n(".cms-toolbar-item-navigation-hover > ul");if(!t.length)return void this._stickToolbar();var e=t.toArray().map(function(t){var e=n(t);return n.extend({},e.position(),{height:e.height()})}),i=this.ui.window.height();this._position.top=this.ui.window.scrollTop();var s=e.some(function(t){return t.top+t.height>i});s&&this._position.top>=this._position.stickyTop?this._position.isSticky&&this._unstickToolbar():this._stickToolbar()},_stickToolbar:function(){this._position.stickyTop=0,this._position.isSticky=!0,this.ui.body.removeClass("cms-toolbar-non-sticky"),this.ui.toolbar.css({top:0})},_unstickToolbar:function(){this._position.stickyTop=this._position.top,this.ui.body.addClass("cms-toolbar-non-sticky"),this.ui.toolbar[0].style.setProperty("top",this._position.stickyTop+(CMS.config.debug?h:-h)+"px","important"),this._position.isSticky=!1}});t.exports=p},function(t,e,i){var n=i(1),s=i(3),o=i(2).API.Helpers,r=new s({initialize:function(){this.body=n("body"),this.isTouch=!1,this.domElem=this._pick(),this._forceTouchOnce=o.once(this._forceTouch),this._checkTouch()},_checkTouch:function(){this.body.one("touchstart.cms",n.proxy(this._forceTouchOnce,this))},_forceTouch:function(){this.isTouch=!0,this.domElem=this._pick(),this.domElem.on("touchstart.cms",function(){var t=n(this).data("plugin_id"),e=n(".cms-plugin-"+t);if(e.length)e.trigger("dblclick.cms");else{var i=n('.cms-plugin[class*="cms-plugin-cms-"][class*="-'+t+'"]');i.eq(0).trigger("dblclick.cms")}})},displayToggle:function(t,e,i,n){t?this.show(e,i,n):this.hide()},show:function(t,e,i){var n=this.domElem,s=this;n.css("visibility","visible").data("plugin_id",i||null).show().find("span").html(e),this.isTouch?this.position(t.originalEvent,n):(s.position(t.originalEvent,n),this.body.on("mousemove.cms.tooltip",function(t){s.position(t,n)}))},hide:function(){this.domElem.css("visibility","hidden").hide(),this.isTouch||this.body.off("mousemove.cms.tooltip")},_pick:function(){return n(".cms-tooltip-touch, .cms-tooltip").css("visibility","hidden").hide(),n(this.isTouch?".cms-tooltip-touch":".cms-tooltip")},position:function(t,e){var i=20,s=12,o=t.pageX-n(e).offsetParent().offset().left,r=t.pageY-n(e).offsetParent().offset().top,a=n(e).offsetParent().width(),l=o+e.outerWidth(!0)+i;e.css({left:l>=a?o-e.outerWidth(!0)-i:o+i,top:r-s})}});t.exports=r},function(t,e){var i=function(t,e){for(var i=[],n=t;n.nextSibling&&(!n.nextSibling.className||"string"!=typeof n.nextSibling.className||!n.nextSibling.className.match(new RegExp(e)));)n=n.nextSibling,i.push(n);return i};t.exports=i},function(t,e,i){var n=i(4),s=i(1);t.exports=function(){var t=CMS.config.lang.shortcutAreas[0].shortcuts["create-dialog"];n.setContext("cms"),n.bind(t.shortcut,function(){s('.cms-btn[href*="wizard"]').trigger("click")})}},function(t,e,i){var n=i(4),s=i(38),o=i(5),r=i(50);t.exports=function(){var t=CMS.config.lang.shortcutAreas,e=new o({width:600,height:600,resizable:!1,minimizable:!1,maximizable:!1});n.setContext("cms"),n.bind("?",function(){e.open({title:CMS.config.lang.shortcuts,width:600,height:660,html:s(r,{shortcutAreas:t})})})}},function(t,e,i){var n=i(1),s=i(33),o=i(35),r=i(32),a=i(36);t.exports=function(){n(function(){s(),o(),r(),a()})}},function(t,e,i){var n=i(4),s=i(1);i(19);var o=function(){n.setContext("placeholders"),n.bind("escape",function(){s(".cms-structure .cms-dragarea").removeAttr("tabindex"),s(".cms-structure-content").untrap(),s("html").focus(),n.setContext("cms")}),n.bind("enter",function(){n.setContext("plugins");var t=s(".cms-dragarea:focus"),e=t.find(".cms-dragitem");e.length&&(e.attr("tabindex","0"),t.find(".cms-dragitem:first").focus(),t.trap(),n.setContext("plugins"))}),n.bind(["+","a"],function(){var t=s(".cms-dragarea:focus");t.find(".cms-submenu-add:first").trigger("pointerup")}),n.bind("x",function(){var t=s(".cms-dragarea:focus");t.find(".cms-dragbar-toggler a:visible").trigger("click")}),n.bind(["!","s"],function(){var t=s(".cms-dragarea:focus");t.find(".cms-submenu-settings:first").trigger("pointerup"),n.setContext("placeholder-actions"),t.find(".cms-submenu-item a:first").focus(),t.find(".cms-dropdown-inner").trap()})},r=function(){n.setContext("placeholder-actions"),n.bind("escape",function(){var t=s(".cms-dropdown-inner:visible"),e=t.closest(".cms-dragarea");e.find(".cms-submenu-settings:first").trigger("pointerup"),t.untrap(),e.focus(),n.setContext("placeholders")})},a=function(){n.setContext("plugins"),n.bind("escape",function(){var t=s(".cms-dragitem:focus"),e=t.closest(".cms-dragarea");s(".cms-dragitem").removeAttr("tabindex"),e.untrap(),e.focus(),n.setContext("placeholders")}),n.bind("e",function(){var t=s(".cms-dragitem:focus");t.find(".cms-submenu-edit").trigger("click")}),n.bind(["+","a"],function(){var t=s(".cms-dragitem:focus");t.find(".cms-submenu-add:first").trigger("pointerup")}),n.bind("x",function(){var t=s(".cms-dragitem:focus");t.find(".cms-dragitem-text").trigger("click")}),n.bind(["!","s"],function(){var t=s(".cms-dragitem:focus");t.find(".cms-submenu-settings:first").trigger("pointerup"),n.setContext("plugin-actions"),t.find(".cms-submenu-item a:first").focus(),t.find(".cms-dropdown-inner").trap()})},l=function(){n.setContext("plugin-actions"),n.bind("escape",function(){var t=s(".cms-dropdown-inner:visible"),e=t.closest(".cms-dragitem");e.find(".cms-submenu-settings:first").trigger("pointerup"),t.untrap(),e.focus(),n.setContext("plugins")})};t.exports=function(){var t=CMS.config.lang.shortcutAreas[1].shortcuts.placeholders;o(),r(),a(),l(),n.setContext("cms"),n.bind(t.shortcut.split(" / "),function(){"structure"===CMS.settings.mode&&(s(".cms-structure .cms-dragarea").attr("tabindex","0"),s(".cms-structure .cms-dragarea:first").focus(),s(".cms-structure-content").trap(),n.setContext("placeholders"))})}},function(t,e,i){var n=i(4),s=i(1);t.exports=function(){var t=CMS.config.lang.shortcutAreas[0].shortcuts.toolbar;n.setContext("cms"),n.bind(t.shortcut.split(" / "),function(){"expanded"===CMS.settings.toolbar?s(".cms-toolbar-item-navigation:first a:first").focus():s(".cms-toolbar-trigger a").focus()})}},function(t,e,i){i(17);var n=function(){this._keys=[],this._values=[]};n.prototype.set=function(t,e){var i=this._keys.findIndex(function(e){return e===t});i>-1?(this._keys[i]=t,this._values[i]=e):(this._keys.push(t),this._values.push(e))},n.prototype.get=function(t){var e=this._keys.findIndex(function(e){return e===t});return e>-1?this._values[e]:void 0},n.prototype.has=function(t){var e=this._keys.findIndex(function(e){return e===t});return e>-1},t.exports=n},function(t,e){var i={};t.exports=function n(t,e){var s=/\W/.test(t)?new Function("obj","var p=[],print=function (){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[t]=i[t]||n(document.getElementById(t).innerHTML);return e?s(e):s}},function(t,e,i){(function(){var e,n,s;n=i(18),e=function(t){return t.candidate},s=function(t,e){return e.score-t.score},t.exports=function(t,i,o,r){var a,l,c,u,d,h,p,f,m;if(m=null!=r?r:{},l=m.key,c=m.maxResults,i){for(d=[],p=0,f=t.length;f>p;p++)a=t[p],h=null!=l?a[l]:a,h&&(u=n.score(h,i,o),o||(u=n.basenameScore(h,i,u)),u>0&&d.push({candidate:a,score:u}));d.sort(s),t=d.map(e)}return null!=c&&(t=t.slice(0,c)),t}}).call(this)},function(t,e,i){(function(){var e,n,s,o,r;r=i(18),s=i(39),o=i(41),e=i(11).sep,n=/\ /g,t.exports={filter:function(t,i,o){var r;return i&&(r=-1!==i.indexOf(e),i=i.replace(n,"")),s(t,i,r,o)},score:function(t,i){var s,o;return t&&i?t===i?2:(s=-1!==i.indexOf(e),i=i.replace(n,""),o=r.score(t,i),s||(o=r.basenameScore(t,i,o)),o):0},match:function(t,i){var s,r,a,l,c,u;if(!t)return[];if(!i)return[];if(t===i)return function(){u=[];for(var e=0,i=t.length;i>=0?i>e:e>i;i>=0?e++:e--)u.push(e);return u}.apply(this);if(l=-1!==i.indexOf(e),i=i.replace(n,""),a=o.match(t,i),!l)for(s=o.basenameMatch(t,i),a=a.concat(s).sort(function(t,e){return t-e}),c=null,r=0;r<a.length;)r&&c===a[r]?a.splice(r,1):(c=a[r],r++);return a}}}).call(this)},function(t,e,i){(function(){var t;t=i(11).sep,e.basenameMatch=function(i,n){var s,o,r,a;for(o=i.length-1;i[o]===t;)o--;for(a=0,r=o,s=null;o>=0;)i[o]===t?(a++,null==s&&(s=i.substring(o+1,r+1))):0===o&&(r<i.length-1?null==s&&(s=i.substring(0,r+1)):null==s&&(s=i)),o--;return e.match(s,n,i.length-s.length)},e.match=function(t,e,i){var n,s,o,r,a,l,c,u,d,h;if(null==i&&(i=0),t===e)return function(){h=[];for(var e=i,n=i+t.length;n>=i?n>e:e>n;n>=i?e++:e--)h.push(e);return h}.apply(this);for(c=e.length,u=t.length,s=0,o=0,a=[];c>s;){if(n=e[s++],r=t.indexOf(n.toLowerCase()),d=t.indexOf(n.toUpperCase()),l=Math.min(r,d),-1===l&&(l=Math.max(r,d)),o=l,-1===o)return[];a.push(i+o),i+=o+1,t=t.substring(o+1,u)}return a}}).call(this)},function(t,e,i){var n=i(1);!function(t){"use strict";function e(){var t=document.createElement("cms"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("cmsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e+10),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.cmsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(n)},function(t,e,i){var n,s,o;i(1);!function(r){s=[i(1)],n=r,o="function"==typeof n?n.apply(e,s):n,!(void 0!==o&&(t.exports=o))}(function(t){function e(e,n){var s,o,r,a=e.nodeName.toLowerCase();return"area"===a?(s=e.parentNode,o=s.name,e.href&&o&&"map"===s.nodeName.toLowerCase()?(r=t("img[usemap='#"+o+"']")[0],!!r&&i(r)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return n&&"static"===e.css("position")?!1:s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&e(i,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?r["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,s)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,s=t(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;o.length>s;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}};var n=0,s=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{n=t._data(s,"events"),n&&n.remove&&t(s).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,o,r,a,l={},c=e.split(".")[0];return e=e.split(".")[1],s=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[c]=t[c]||{},o=t[c][e],r=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:r,namespace:c,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),r=0,a=o.length;a>r;r++)for(i in o[r])n=o[r][i],o[r].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,a=s.call(arguments,1),l=this;return r?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,a),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;n.length-1>o;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,r){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?s.delegate(u,c,a):i.bind(c,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}}),t.widget;var o=!1;t(document).mouseup(function(){o=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,s="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return n&&!s&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,s=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),s))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var s,o,r=this.options;
if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),e.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],s):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>a&&l>n+c,h="y"===this.options.axis||e+u>o&&r>e+u,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&r>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>s-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return n?this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,s,o,r,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(o=t(c[n],this.document[0]),s=o.length-1;s>=0;s--)r=t.data(o[s],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,o,r,a,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(s=t(h[i],this.document[0]),n=s.length-1;n>=0;n--)o=t.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=d.length-1;i>=0;i--)for(r=d[i][1],a=d[i][0],n=0,c=a.length;c>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(s)):"tr"===n?e._createTrPlaceholder(e.currentItem,s):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,s,o,r,a,l,c,u,d,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&t.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,o=null,u=h.floating||this._isFloating(this.currentItem),r=u?"left":"top",a=u?"width":"height",d=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[r],c=!1,e[d]-l>this.items[n][a]/2&&(c=!0),s>Math.abs(e[d]-l)&&(s=Math.abs(e[d]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,o=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;s.length>n;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});var r="ui-effects-",a=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var n=d[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=c(),s=n._rgba=[];return i=i.toLowerCase(),f(l,function(t,o){var r,a=o.re.exec(i),l=a&&o.parse(a),c=o.space||"rgba";return l?(r=n[c](l),n[u[c].cache]=r[u[c].cache],s=n._rgba=r._rgba,!1):e}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),n):o[i]}function s(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(s,r,a,l){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(r),r=e);var d=this,h=t.type(s),p=this._rgba=[];return r!==e&&(s=[s,r,a,l],h="array"),"string"===h?this.parse(n(s)||o._default):"array"===h?(f(u.rgba.props,function(t,e){p[e.idx]=i(s[e.idx],e)}),this):"object"===h?(s instanceof c?f(u,function(t,e){s[e.cache]&&(d[e.cache]=s[e.cache].slice())}):f(u,function(e,n){var o=n.cache;f(n.props,function(t,e){if(!d[o]&&n.to){if("alpha"===t||null==s[t])return;d[o]=n.to(d._rgba)}d[o][e.idx]=i(s[t],e,!0)}),d[o]&&0>t.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,n.from&&(d._rgba=n.from(d[o])))}),this):e},is:function(t){var i=c(t),n=!0,s=this;return f(u,function(t,o){var r,a=i[o.cache];return a&&(r=s[o.cache]||o.to&&o.to(s._rgba)||[],f(o.props,function(t,i){return null!=a[i.idx]?n=a[i.idx]===r[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return f(u,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),s=n._space(),o=u[s],r=0===this.alpha()?c("transparent"):this,a=r[o.cache]||o.to(r._rgba),l=a.slice();return n=n[o.cache],f(o.props,function(t,s){var o=s.idx,r=a[o],c=n[o],u=d[s.type]||{};null!==c&&(null===r?l[o]=c:(u.mod&&(c-r>u.mod/2?r+=u.mod:r-c>u.mod/2&&(r-=u.mod)),l[o]=i((c-r)*e+r,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,o=t[2]/255,r=t[3],a=Math.max(n,s,o),l=Math.min(n,s,o),c=a-l,u=a+l,d=.5*u;return e=l===a?0:n===a?60*(s-o)/c+360:s===a?60*(o-n)/c+120:60*(n-s)/c+240,i=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(e)%360,i,d,null==r?1:r]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],r=.5>=n?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*s(a,r,e+1/3)),Math.round(255*s(a,r,e)),Math.round(255*s(a,r,e-1/3)),o]},f(u,function(n,s){var o=s.props,r=s.cache,l=s.to,u=s.from;c.fn[n]=function(n){if(l&&!this[r]&&(this[r]=l(this._rgba)),n===e)return this[r].slice();var s,a=t.type(n),d="array"===a||"object"===a?n:arguments,h=this[r].slice();return f(o,function(t,e){var n=d["object"===a?t:e.idx];null==n&&(n=h[e.idx]),h[e.idx]=i(n,e)}),u?(s=c(u(h)),s[r]=h,s):c(h)},f(o,function(e,i){c.fn[e]||(c.fn[e]=function(s){var o,r=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===r?u:("function"===r&&(s=s.call(this,u),r=t.type(s)),null==s&&i.empty?this:("string"===r&&(o=a.exec(s),o&&(s=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=s,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,s){var o,r,a="";if("transparent"!==s&&("string"!==t.type(s)||(o=n(s)))){if(s=c(o||s),!h.rgba&&1!==s._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&r&&r.style;)try{a=t.css(r,"backgroundColor"),r=r.parentNode}catch(l){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(r),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(a),function(){function e(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(o[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(o[i]=s[i]);return o}function i(e,i){var n,o,r={};for(n in i)o=i[n],e[n]!==o&&(s[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(r[n]=o));return r}var n=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(a.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(s,o,r,a){var l=t.speed(o,r,a);return this.queue(function(){var o,r=t(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(n,function(t,e){s[e]&&r[e+"Class"](s[e])})},o(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(r[0])})})},t.fn.extend({addClass:function(e){return function(i,n,s,o){return n?t.effects.animateClass.call(this,{add:i},n,s,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,s,o,r){return"boolean"==typeof n||void 0===n?s?t.effects.animateClass.call(this,n?{add:i}:{remove:i},s,o,r):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,s,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,o)}})}(),function(){function e(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"==typeof e&&!e.effect:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;e.length>i;i++)null!==e[i]&&t.data(r+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;e.length>n;n++)null!==e[n]&&(i=t.data(r+e[n]),
void 0===i&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(r){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(s[i]=o[0]*n+o[1])}),s}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(o)&&o.call(s[0]),t.isFunction(e)&&e()}var s=t(this),o=n.complete,a=n.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),i()):r.call(s[0],n,i)}var n=e.apply(this,arguments),s=n.mode,o=n.queue,r=t.effects.effect[n.effect];return t.fx.off||!r?s?this[s](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(i):this.queue(o||"fx",i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="show",this.effect.call(this,s)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="hide",this.effect.call(this,s)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var s=e.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects})},function(t,e,i){var n=i(1);!function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("mjs.nestedSortable",t.extend({},t.ui.sortable.prototype,{options:{doNotClear:!1,expandOnHover:700,isAllowed:function(t,e,i){return!0},isTree:!1,listType:"ol",maxLevels:0,protectRoot:!1,rootID:null,rtl:!1,startCollapsed:!1,tabSize:20,branchClass:"mjs-nestedSortable-branch",collapsedClass:"mjs-nestedSortable-collapsed",disableNestingClass:"mjs-nestedSortable-no-nesting",errorClass:"mjs-nestedSortable-error",expandedClass:"mjs-nestedSortable-expanded",hoveringClass:"mjs-nestedSortable-hovering",leafClass:"mjs-nestedSortable-leaf"},_create:function(){if(this.element.data("ui-sortable",this.element.data("mjs-nestedSortable")),!this.element.is(this.options.listType))throw new Error("nestedSortable: Please check that the listType option is set to your actual list type");if(this.options.isTree&&this.options.expandOnHover&&(this.options.tolerance="intersect"),t.ui.sortable.prototype._create.apply(this,arguments),this.options.isTree){var e=this;t(this.items).each(function(){var t=this.item;t.children(e.options.listType).length?(t.addClass(e.options.branchClass),e.options.startCollapsed?t.addClass(e.options.collapsedClass):t.addClass(e.options.expandedClass)):t.addClass(e.options.leafClass)})}},_destroy:function(){return this.element.removeData("mjs-nestedSortable").removeData("ui-sortable"),t.ui.sortable.prototype._destroy.apply(this,arguments)},_mouseDrag:function(e){var i,n,s,o,r=this.options,a=!1;this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute");var l=this.placeholder.offset().top;this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),this.hovering=this.hovering?this.hovering:null,this.mouseentered=this.mouseentered?this.mouseentered:!1;var c=this.placeholder[0].parentNode.parentNode&&t(this.placeholder[0].parentNode.parentNode).closest(".ui-sortable").length?t(this.placeholder[0].parentNode.parentNode):null,u=this._getLevel(this.placeholder),d=this._getChildLevels(this.helper),h=document.createElement(r.listType);for(i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],s):!0)){if(this.mouseentered||(t(s).mouseenter(),this.mouseentered=!0),r.isTree&&t(s).hasClass(r.collapsedClass)&&r.expandOnHover&&!this.hovering){t(s).addClass(r.hoveringClass);var p=this;this.hovering=window.setTimeout(function(){t(s).removeClass(r.collapsedClass).addClass(r.expandedClass),p.refreshPositions(),p._trigger("expand",e,p._uiHash())},r.expandOnHover)}if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(n))break;if(t(s).mouseleave(),this.mouseentered=!1,t(s).removeClass(r.hoveringClass),this.hovering&&window.clearTimeout(this.hovering),this.hovering=null,!r.protectRoot||this.currentItem[0].parentNode==this.element[0]&&s.parentNode!=this.element[0])r.protectRoot||this._rearrange(e,n);else if(this.currentItem[0].parentNode!=this.element[0]&&s.parentNode==this.element[0]){t(s).children(r.listType).length||(s.appendChild(h),r.isTree&&t(s).removeClass(r.leafClass).addClass(r.branchClass+" "+r.expandedClass));var f="down"===this.direction?t(s).prev().children(r.listType):t(s).children(r.listType);void 0!==f[0]&&this._rearrange(e,null,f)}else this._rearrange(e,n);this._clearEmpty(s),this._trigger("change",e,this._uiHash());break}var m=this.placeholder[0].previousSibling?t(this.placeholder[0].previousSibling):null;if(null!=m)for(;m[0].nodeName.toLowerCase()!=t(r.listType)[0].nodeName.toLowerCase()||m[0]==this.currentItem[0]||m[0]==this.helper[0];){if(!m[0].previousSibling){m=null;break}m=t(m[0].previousSibling)}var g=this.placeholder[0].nextSibling?t(this.placeholder[0].nextSibling):null;if(null!=g)for(;g[0].nodeName.toLowerCase()!=t(r.listType)[0].nodeName.toLowerCase()||g[0]==this.currentItem[0]||g[0]==this.helper[0];){if(!g[0].nextSibling){g=null;break}g=t(g[0].nextSibling)}return this.beyondMaxLevels=0,null==c||null!=g||r.protectRoot&&c[0].parentNode==this.element[0]||!(r.rtl&&this.positionAbs.left+this.helper.outerWidth()>c.offset().left+c.outerWidth()||!r.rtl&&this.positionAbs.left<c.offset().left)?null==m||m.hasClass(r.disableNestingClass)||!(m.children(r.listType).length&&m.children(r.listType).is(":visible")||!m.children(r.listType).length)||r.protectRoot&&this.currentItem[0].parentNode==this.element[0]||!(r.rtl&&this.positionAbs.left+this.helper.outerWidth()<m.offset().left+m.outerWidth()-r.tabSize||!r.rtl&&this.positionAbs.left>m.offset().left+r.tabSize)?this._isAllowed(c,u,u+d):(this._isAllowed(m,u,u+d+1),m.children(r.listType).length||(m[0].appendChild(h),r.isTree&&m.removeClass(r.leafClass).addClass(r.branchClass+" "+r.expandedClass)),l&&l<=m.offset().top?m.children(r.listType).prepend(this.placeholder):m.children(r.listType).length&&m.children(r.listType)[0].appendChild(this.placeholder[0]),this._trigger("change",e,this._uiHash())):(c.after(this.placeholder[0]),r.isTree&&c.children(r.listItem).children(r.listItem+":visible:not(.ui-sortable-helper)").length<1&&c.removeClass(this.options.branchClass+" "+this.options.expandedClass).addClass(this.options.leafClass),this._clearEmpty(c[0]),this._trigger("change",e,this._uiHash())),this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){this.beyondMaxLevels&&(this.placeholder.removeClass(this.options.errorClass),this.domPosition.prev?t(this.domPosition.prev).after(this.placeholder):t(this.domPosition.parent).prepend(this.placeholder),this._trigger("revert",e,this._uiHash())),t("."+this.options.hoveringClass).mouseleave().removeClass(this.options.hoveringClass),this.mouseentered=!1,this.hovering&&window.clearTimeout(this.hovering),this.hovering=null,t.ui.sortable.prototype._mouseStop.apply(this,arguments)},_intersectsWithSides:function(t){var i=this.options.isTree?.8:.5,n=e(this.positionAbs.top+this.offset.click.top,t.top+t.height*i,t.height),s=e(this.positionAbs.top+this.offset.click.top,t.top-t.height*i,t.height),o=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&o||"left"==a&&!o:r&&("down"==r&&n||"up"==r&&s)},_contactContainers:function(e){this.options.protectRoot&&this.currentItem[0].parentNode==this.element[0]||t.ui.sortable.prototype._contactContainers.apply(this,arguments)},_clear:function(e,i){t.ui.sortable.prototype._clear.apply(this,arguments);for(var n=this.items.length-1;n>=0;n--){var s=this.items[n].item[0];this._clearEmpty(s)}},serialize:function(e){var i=t.extend({},this.options,e),n=this._getItemsAsjQuery(i&&i.connected),s=[];return t(n).each(function(){var e=(t(i.item||this).attr(i.attribute||"id")||"").match(i.expression||/(.+)[-=_](.+)/),n=(t(i.item||this).parent(i.listType).parent(i.items).attr(i.attribute||"id")||"").match(i.expression||/(.+)[-=_](.+)/);e&&s.push((i.key||e[1])+"["+(i.key&&i.expression?e[1]:e[2])+"]="+(n?i.key&&i.expression?n[1]:n[2]:i.rootID))}),!s.length&&i.key&&s.push(i.key+"="),s.join("&")},toHierarchy:function(e){function i(e){var s=(t(e).attr(n.attribute||"id")||"").match(n.expression||/(.+)[-=_](.+)/);if(s){var o={id:s[2]};return t(e).children(n.listType).children(n.items).length>0&&(o.children=[],t(e).children(n.listType).children(n.items).each(function(){var t=i(this);o.children.push(t)})),o}}var n=t.extend({},this.options,e),s=(n.startDepthCount||0,[]);return t(this.element).children(n.items).each(function(){var t=i(this);s.push(t)}),s},toArray:function(e){function i(e,r,a){var l,c,u=a+1;if(t(e).children(n.listType).children(n.items).length>0&&(r++,t(e).children(n.listType).children(n.items).each(function(){u=i(t(this),r,u)}),r--),l=t(e).attr(n.attribute||"id").match(n.expression||/(.+)[-=_](.+)/),r===s+1)c=n.rootID;else{var d=t(e).parent(n.listType).parent(n.items).attr(n.attribute||"id").match(n.expression||/(.+)[-=_](.+)/);c=d[2]}return l&&o.push({item_id:l[2],parent_id:c,depth:r,left:a,right:u}),a=u+1}var n=t.extend({},this.options,e),s=n.startDepthCount||0,o=[],r=1;return n.excludeRoot||(o.push({item_id:n.rootID,parent_id:null,depth:s,left:r,right:2*(t(n.items,this.element).length+1)}),r++),t(this.element).children(n.items).each(function(){r=i(this,s+1,r)}),o=o.sort(function(t,e){return t.left-e.left})},_clearEmpty:function(e){var i=this.options,n=t(e).children(i.listType);!n.length||n.children().length||i.doNotClear?i.isTree&&n.length&&n.children().length&&n.is(":visible")?t(e).removeClass(i.leafClass).addClass(i.branchClass+" "+i.expandedClass):i.isTree&&n.length&&n.children().length&&!n.is(":visible")&&t(e).removeClass(i.leafClass).addClass(i.branchClass+" "+i.collapsedClass):(i.isTree&&t(e).removeClass(i.branchClass+" "+i.expandedClass).addClass(i.leafClass),n.remove())},_getLevel:function(t){var e=1;if(this.options.listType)for(var i=t.closest(this.options.listType);i&&i.length>0&&!i.is(".ui-sortable");)e++,i=i.parent().closest(this.options.listType);return e},_getChildLevels:function(e,i){var n=this,s=this.options,o=0;return i=i||0,t(e).children(s.listType).children(s.items).each(function(t,e){o=Math.max(n._getChildLevels(e,i+1),o)}),i?o+1:o},_isAllowed:function(t,e,i){var n=this.options,s=this.placeholder.closest(".ui-sortable").nestedSortable("option","maxLevels");n.isAllowed(this.placeholder,t,this.currentItem)?i>s&&0!=s?(this.placeholder.addClass(n.errorClass),this.beyondMaxLevels=i-s):(this.placeholder.removeClass(n.errorClass),this.beyondMaxLevels=0):(this.placeholder.addClass(n.errorClass),i>s&&0!=s?this.beyondMaxLevels=i-s:this.beyondMaxLevels=1)}})),t.mjs.nestedSortable.prototype.options=t.extend({},t.ui.sortable.prototype.options,t.mjs.nestedSortable.prototype.options)}(n)},function(t,e,i){var n=i(1);!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,s=n._mouseInit,o=n._mouseDestroy;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),s.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(n)},,function(t,e,i){var n=i(48),s=i(20),o=i(10),r=new n;r.setLocale("us",i(49)),e=t.exports=r,e.Keyboard=n,e.Locale=s,e.KeyCombo=o},function(t,e,i){(function(e){function n(t,e,i,n){this._locale=null,this._currentContext=null,this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this.setContext("global"),this.watch(t,e,i,n)}var s=i(20),o=i(10);n.prototype.setLocale=function(t,e){var i=null;"string"==typeof t?e?(i=new s(t),e(i,this._targetPlatform,this._targetUserAgent)):i=this._locales[t]||null:(i=t,t=i._localeName),this._locale=i,this._locales[t]=i,i&&(this._locale.pressedKeys=i.pressedKeys)},n.prototype.getLocale=function(t){return t||(t=this._locale.localeName),this._locales[t]||null},n.prototype.bind=function(t,e,i,n){if(null!==t&&"function"!=typeof t||(n=i,i=e,e=t,t=null),t&&"object"==typeof t&&"number"==typeof t.length)for(var s=0;s<t.length;s+=1)this.bind(t[s],e,i);else this._listeners.push({keyCombo:t?new o(t):null,pressHandler:e||null,releaseHandler:i||null,preventRepeat:n||!1,preventRepeatByDefault:n||!1})},n.prototype.addListener=n.prototype.bind,n.prototype.on=n.prototype.bind,n.prototype.unbind=function(t,e,i){if(null!==t&&"function"!=typeof t||(i=e,e=t,t=null),t&&"object"==typeof t&&"number"==typeof t.length)for(var n=0;n<t.length;n+=1)this.unbind(t[n],e,i);else for(var n=0;n<this._listeners.length;n+=1){var s=this._listeners[n],o=!t&&!s.keyCombo||s.keyCombo.isEqual(t),r=!e&&!i||!e&&!s.pressHandler||e===s.pressHandler,a=!e&&!i||!i&&!s.releaseHandler||i===s.releaseHandler;o&&r&&a&&(this._listeners.splice(n,1),n-=1)}},n.prototype.removeListener=n.prototype.unbind,n.prototype.off=n.prototype.unbind,n.prototype.setContext=function(t){this._locale&&this.releaseAllKeys(),this._contexts[t]||(this._contexts[t]=[]),this._listeners=this._contexts[t],this._currentContext=t},n.prototype.getContext=function(){return this._currentContext},n.prototype.withContext=function(t,e){var i=this.getContext();this.setContext(t),e(),this.setContext(i)},n.prototype.watch=function(t,i,n,s){var o=this;if(this.stop(),!t){if(!e.addEventListener&&!e.attachEvent)throw new Error("Cannot find global functions addEventListener or attachEvent.");t=e}if("number"==typeof t.nodeType&&(s=n,n=i,i=t,t=e),!t.addEventListener&&!t.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!t.addEventListener;var r=t.navigator&&t.navigator.userAgent||"",a=t.navigator&&t.navigator.platform||"";i&&null!==i||(i=t.document),n&&null!==n||(n=a),s&&null!==s||(s=r),this._targetKeyDownBinding=function(t){o.pressKey(t.keyCode,t)},this._targetKeyUpBinding=function(t){o.releaseKey(t.keyCode,t)},this._targetResetBinding=function(t){o.releaseAllKeys(t)},this._bindEvent(i,"keydown",this._targetKeyDownBinding),this._bindEvent(i,"keyup",this._targetKeyUpBinding),this._bindEvent(t,"focus",this._targetResetBinding),this._bindEvent(t,"blur",this._targetResetBinding),this._targetElement=i,this._targetWindow=t,this._targetPlatform=n,this._targetUserAgent=s},n.prototype.stop=function(){this._targetElement&&this._targetWindow&&(this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null)},n.prototype.pressKey=function(t,e){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressKey(t),this._applyBindings(e)}},n.prototype.releaseKey=function(t,e){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.releaseKey(t),this._clearBindings(e)}},n.prototype.releaseAllKeys=function(t){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressedKeys.length=0,this._clearBindings(t)}},n.prototype.pause=function(){this._paused||(this._locale&&this.releaseAllKeys(),this._paused=!0)},n.prototype.resume=function(){this._paused=!1},n.prototype.reset=function(){this.releaseAllKeys(),this._listeners.length=0},n.prototype._bindEvent=function(t,e,i){return this._isModernBrowser?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)},n.prototype._unbindEvent=function(t,e,i){return this._isModernBrowser?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)},n.prototype._getGroupedListeners=function(){var t=[],e=[],i=this._listeners;return"global"!==this._currentContext&&(i=[].concat(i,this._contexts.global)),i.sort(function(t,e){return e.keyCombo.keyNames.length-t.keyCombo.keyNames.length}).forEach(function(i){for(var n=-1,s=0;s<e.length;s+=1)e[s].isEqual(i.keyCombo)&&(n=s);-1===n&&(n=e.length,e.push(i.keyCombo)),t[n]||(t[n]=[]),t[n].push(i)}),t},n.prototype._applyBindings=function(t){var e=!1;t||(t={}),t.preventRepeat=function(){e=!0},t.pressedKeys=this._locale.pressedKeys.slice(0);for(var i=this._locale.pressedKeys.slice(0),n=this._getGroupedListeners(),s=0;s<n.length;s+=1){var r=n[s],a=r[0].keyCombo;if(null===a||a.check(i)){for(var l=0;l<r.length;l+=1){var c=r[l];null===a&&(c={keyCombo:new o(i.join("+")),pressHandler:c.pressHandler,releaseHandler:c.releaseHandler,preventRepeat:c.preventRepeat,preventRepeatByDefault:c.preventRepeatByDefault}),c.pressHandler&&!c.preventRepeat&&(c.pressHandler.call(this,t),e&&(c.preventRepeat=e,e=!1)),c.releaseHandler&&-1===this._appliedListeners.indexOf(c)&&this._appliedListeners.push(c)}if(a)for(var l=0;l<a.keyNames.length;l+=1){var u=i.indexOf(a.keyNames[l]);-1!==u&&(i.splice(u,1),l-=1)}}}},n.prototype._clearBindings=function(t){t||(t={});for(var e=0;e<this._appliedListeners.length;e+=1){var i=this._appliedListeners[e],n=i.keyCombo;null!==n&&n.check(this._locale.pressedKeys)||(i.preventRepeat=i.preventRepeatByDefault,i.releaseHandler.call(this,t),this._appliedListeners.splice(e,1),e-=1)}},t.exports=n}).call(e,function(){return this}())},function(t,e){t.exports=function(t,e,i){t.bindKeyCode(3,["cancel"]),t.bindKeyCode(8,["backspace"]),t.bindKeyCode(9,["tab"]),t.bindKeyCode(12,["clear"]),t.bindKeyCode(13,["enter"]),t.bindKeyCode(16,["shift"]),t.bindKeyCode(17,["ctrl"]),t.bindKeyCode(18,["alt","menu"]),t.bindKeyCode(19,["pause","break"]),t.bindKeyCode(20,["capslock"]),t.bindKeyCode(27,["escape","esc"]),t.bindKeyCode(32,["space","spacebar"]),t.bindKeyCode(33,["pageup"]),t.bindKeyCode(34,["pagedown"]),t.bindKeyCode(35,["end"]),t.bindKeyCode(36,["home"]),t.bindKeyCode(37,["left"]),t.bindKeyCode(38,["up"]),t.bindKeyCode(39,["right"]),t.bindKeyCode(40,["down"]),t.bindKeyCode(41,["select"]),t.bindKeyCode(42,["printscreen"]),t.bindKeyCode(43,["execute"]),t.bindKeyCode(44,["snapshot"]),t.bindKeyCode(45,["insert","ins"]),t.bindKeyCode(46,["delete","del"]),t.bindKeyCode(47,["help"]),t.bindKeyCode(145,["scrolllock","scroll"]),t.bindKeyCode(187,["equal","equalsign","="]),t.bindKeyCode(188,["comma",","]),t.bindKeyCode(190,["period","."]),t.bindKeyCode(191,["slash","forwardslash","/"]),t.bindKeyCode(192,["graveaccent","`"]),t.bindKeyCode(219,["openbracket","["]),t.bindKeyCode(220,["backslash","\\"]),t.bindKeyCode(221,["closebracket","]"]),t.bindKeyCode(222,["apostrophe","'"]),t.bindKeyCode(48,["zero","0"]),t.bindKeyCode(49,["one","1"]),t.bindKeyCode(50,["two","2"]),t.bindKeyCode(51,["three","3"]),t.bindKeyCode(52,["four","4"]),t.bindKeyCode(53,["five","5"]),t.bindKeyCode(54,["six","6"]),t.bindKeyCode(55,["seven","7"]),t.bindKeyCode(56,["eight","8"]),t.bindKeyCode(57,["nine","9"]),t.bindKeyCode(96,["numzero","num0"]),t.bindKeyCode(97,["numone","num1"]),t.bindKeyCode(98,["numtwo","num2"]),t.bindKeyCode(99,["numthree","num3"]),t.bindKeyCode(100,["numfour","num4"]),t.bindKeyCode(101,["numfive","num5"]),t.bindKeyCode(102,["numsix","num6"]),t.bindKeyCode(103,["numseven","num7"]),t.bindKeyCode(104,["numeight","num8"]),t.bindKeyCode(105,["numnine","num9"]),t.bindKeyCode(106,["nummultiply","num*"]),t.bindKeyCode(107,["numadd","num+"]),t.bindKeyCode(108,["numenter"]),t.bindKeyCode(109,["numsubtract","num-"]),t.bindKeyCode(110,["numdecimal","num."]),t.bindKeyCode(111,["numdivide","num/"]),t.bindKeyCode(144,["numlock","num"]),t.bindKeyCode(112,["f1"]),t.bindKeyCode(113,["f2"]),t.bindKeyCode(114,["f3"]),t.bindKeyCode(115,["f4"]),t.bindKeyCode(116,["f5"]),t.bindKeyCode(117,["f6"]),t.bindKeyCode(118,["f7"]),t.bindKeyCode(119,["f8"]),t.bindKeyCode(120,["f9"]),t.bindKeyCode(121,["f10"]),t.bindKeyCode(122,["f11"]),t.bindKeyCode(123,["f12"]),t.bindMacro("shift + `",["tilde","~"]),t.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),t.bindMacro("shift + 2",["at","@"]),t.bindMacro("shift + 3",["number","#"]),t.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),t.bindMacro("shift + 5",["percent","%"]),t.bindMacro("shift + 6",["caret","^"]),t.bindMacro("shift + 7",["ampersand","and","&"]),t.bindMacro("shift + 8",["asterisk","*"]),t.bindMacro("shift + 9",["openparen","("]),t.bindMacro("shift + 0",["closeparen",")"]),t.bindMacro("shift + -",["underscore","_"]),t.bindMacro("shift + =",["plus","+"]),t.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),t.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),t.bindMacro("shift + \\",["verticalbar","|"]),t.bindMacro("shift + ;",["colon",":"]),t.bindMacro("shift + '",["quotationmark","'"]),t.bindMacro("shift + !,",["openanglebracket","<"]),t.bindMacro("shift + .",["closeanglebracket",">"]),t.bindMacro("shift + /",["questionmark","?"]);for(var n=65;90>=n;n+=1){var s=String.fromCharCode(n+32),o=String.fromCharCode(n);t.bindKeyCode(n,s),t.bindMacro("shift + "+s,o),t.bindMacro("capslock + "+s,o)}var r,a,l=i.match("Firefox")?59:186,c=i.match("Firefox")?173:189;e.match("Mac")&&(i.match("Safari")||i.match("Chrome"))?(r=91,a=93):e.match("Mac")&&i.match("Opera")?(r=17,a=17):e.match("Mac")&&i.match("Firefox")&&(r=224,a=224),t.bindKeyCode(l,["semicolon",";"]),t.bindKeyCode(c,["dash","-"]),t.bindKeyCode(r,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),t.bindKeyCode(a,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),t.setKillKey("command")}},function(t,e){t.exports='<div class="cms-shortcuts">\n    <div class="cms-shortcuts-list-wrapper">\n        <table class="cms-shortcuts-list">\n            <% shortcutAreas.forEach(function (area) { %>\n                <tr>\n                    <th></th>\n                    <th class="cms-shortcut-key-wrapper"><h2>\n                        <%= area.title %>\n                    </h2></th>\n                </tr>\n                <% Object.keys(area.shortcuts).forEach(function (key) { %>\n                    <% var content = area.shortcuts[key]; %>\n                        <tr class="cms-shortcut">\n                            <td class="cms-shortcut-key-wrapper">\n                                <% content.shortcut.replace(/>/g, \'\').split(\' / \').forEach(function (k, i) { %>\n                                    <% if (i === 1) { %> / <% } %>\n                                    <kbd class="cms-shortcut-key"><%= k %></kbd>\n                                <% }); %>\n                            </td>\n                            <td class="cms-shortcut-desc">\n                                <%= content.desc %>\n                            </td>\n                        </tr>\n                <% }); %>\n            <% }); %>\n        </table>\n    </div>\n</div>\n'},function(t,e){function i(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&n())}function n(){if(!c){var t=setTimeout(i);c=!0;for(var e=l.length;e;){for(r=l,l=[];++u<e;)r&&r[u].run();u=-1,e=l.length}r=null,c=!1,clearTimeout(t)}}function s(t,e){this.fun=t,this.array=e}function o(){}var r,a=t.exports={},l=[],c=!1,u=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new s(t,e)),1!==l.length||c||setTimeout(n,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}]);
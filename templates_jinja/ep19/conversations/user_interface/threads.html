{% extends "ep19/conversations/base.html" %}
{# TODO: different inheritance #}

{% block breadcrumbs %}
{% endblock breadcrumbs %}

{% block conversations_content %}

    {# TODO make it into a table in material #}
    <table>
        <tr>
            <th>id</th>
            <th>category</th>
            <th>title</th>
            <th><a href='?{{ ThreadFilters.order_by_status }}'>status</a></th>
            <th><a href='?{{ ThreadFilters.order_by_last_message }}'>last message</a></th>
        </tr>

        {% for thread in threads %}
        <tr>
            <td>{{ thread.id }}</td>
            <td>{{ thread.category }}</td>
            <td><a href='{{ url("user_conversations:user_thread", args=[thread.uuid]) }}'>{{ thread.title }}</a></td>
            <td class='status-bg-{{ thread.status }}'>{{ thread.get_status_display() }}</td>
            <td title="{{ thread.last_message_date }}">{{ timesince(thread.last_message_date) }} ago</td>
        </tr>
        {% endfor %}{# thread in actionble #}
    </table>

    <a href='#'>Start new thread +</a>

{% endblock conversations_content %}
